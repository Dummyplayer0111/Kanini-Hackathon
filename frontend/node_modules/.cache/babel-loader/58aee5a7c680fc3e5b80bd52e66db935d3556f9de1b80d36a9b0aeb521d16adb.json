{"ast":null,"code":"import _objectSpread from\"C:/Users/Praanesh MB/OneDrive/Documents/Kanini-Hackathon-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./DoctorDashboard.css\";import\"./NurseDashboard.css\";import\"./EmergencyCases.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API=\"http://localhost:8000\";function getCookie(name){let cookieValue=null;if(document.cookie&&document.cookie!==\"\"){const cookies=document.cookie.split(\";\");for(let cookie of cookies){cookie=cookie.trim();if(cookie.startsWith(name+\"=\")){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}// ── Symptom metadata ──\nconst SYMPTOM_FIELDS=[\"chest_pain\",\"severe_breathlessness\",\"sudden_confusion\",\"stroke_symptoms\",\"seizure\",\"severe_trauma\",\"uncontrolled_bleeding\",\"loss_of_consciousness\",\"severe_allergic_reaction\",\"persistent_fever\",\"vomiting\",\"moderate_abdominal_pain\",\"persistent_cough\",\"moderate_breathlessness\",\"severe_headache\",\"dizziness\",\"dehydration\",\"palpitations\",\"migraine\",\"mild_headache\",\"sore_throat\",\"runny_nose\",\"mild_cough\",\"fatigue\",\"body_ache\",\"mild_abdominal_pain\",\"skin_rash\",\"mild_back_pain\",\"mild_joint_pain\"];const CRITICAL_SYMPTOMS=[\"chest_pain\",\"severe_breathlessness\",\"sudden_confusion\",\"stroke_symptoms\",\"seizure\",\"severe_trauma\",\"uncontrolled_bleeding\",\"loss_of_consciousness\",\"severe_allergic_reaction\"];const MODERATE_SYMPTOMS=[\"persistent_fever\",\"vomiting\",\"moderate_abdominal_pain\",\"persistent_cough\",\"moderate_breathlessness\",\"severe_headache\",\"dizziness\",\"dehydration\",\"palpitations\",\"migraine\"];// everything else is mild\nfunction symptomSeverity(s){if(CRITICAL_SYMPTOMS.includes(s))return\"critical\";if(MODERATE_SYMPTOMS.includes(s))return\"moderate\";return\"mild\";}function symptomLabel(s){return s.replace(/_/g,\" \").replace(/\\b\\w/g,c=>c.toUpperCase());}// ── Body region mapping ──\nconst BODY_REGIONS=[{name:\"Head\",cx:150,cy:45,symptoms:[\"sudden_confusion\",\"stroke_symptoms\",\"loss_of_consciousness\",\"severe_headache\",\"dizziness\",\"migraine\",\"mild_headache\"]},{name:\"Throat\",cx:150,cy:85,symptoms:[\"sore_throat\"]},{name:\"Chest\",cx:150,cy:130,symptoms:[\"chest_pain\",\"severe_breathlessness\",\"palpitations\",\"moderate_breathlessness\",\"persistent_cough\"]},{name:\"Abdomen\",cx:150,cy:185,symptoms:[\"moderate_abdominal_pain\",\"vomiting\",\"mild_abdominal_pain\"]},{name:\"Left Arm\",cx:95,cy:155,symptoms:[\"severe_trauma\",\"uncontrolled_bleeding\"]},{name:\"Right Arm\",cx:205,cy:155,symptoms:[\"severe_trauma\",\"uncontrolled_bleeding\"]},{name:\"Left Leg\",cx:125,cy:295,symptoms:[\"mild_joint_pain\",\"mild_back_pain\"]},{name:\"Right Leg\",cx:175,cy:295,symptoms:[\"mild_joint_pain\",\"mild_back_pain\"]},{name:\"Nose\",cx:150,cy:55,symptoms:[\"runny_nose\",\"mild_cough\"]}];const FULL_BODY_SYMPTOMS=[\"seizure\",\"severe_allergic_reaction\",\"persistent_fever\",\"fatigue\",\"skin_rash\",\"dehydration\",\"body_ache\"];const HISTORY_BOOLEANS=[\"diabetes\",\"hypertension\",\"heart_disease\",\"asthma\",\"chronic_kidney_disease\",\"previous_stroke\",\"smoker\",\"obese\",\"previous_heart_attack\",\"previous_hospitalization\"];// ── Male & Female SVG silhouette paths ──\nconst MALE_PATH=\"M150 10 C135 10 125 20 125 35 C125 50 135 60 150 60 C165 60 175 50 175 35 C175 20 165 10 150 10 Z M140 62 L130 65 L110 75 L90 140 L95 145 L115 90 L120 110 L105 200 L110 200 L115 260 L120 340 L130 340 L135 260 L140 200 L145 200 L150 260 L155 200 L160 200 L165 260 L170 340 L180 340 L185 260 L190 200 L195 200 L180 110 L185 90 L205 145 L210 140 L190 75 L170 65 L160 62 Z\";const FEMALE_PATH=\"M150 10 C135 10 125 20 125 35 C125 50 135 60 150 60 C165 60 175 50 175 35 C175 20 165 10 150 10 Z M140 62 L128 66 L112 78 L95 140 L100 143 L118 92 L120 110 L108 170 L115 180 L105 200 L110 200 L118 260 L122 340 L132 340 L136 260 L140 200 L145 200 L150 260 L155 200 L160 200 L164 260 L168 340 L178 340 L182 260 L190 200 L195 200 L185 180 L192 170 L180 110 L182 92 L200 143 L205 140 L188 78 L172 66 L160 62 Z\";function getActiveSymptoms(item){return SYMPTOM_FIELDS.filter(s=>item[s]);}function getRegionSeverity(activeSymptoms,regionSymptoms){const matched=regionSymptoms.filter(s=>activeSymptoms.includes(s));if(matched.length===0)return null;if(matched.some(s=>CRITICAL_SYMPTOMS.includes(s)))return\"critical\";if(matched.some(s=>MODERATE_SYMPTOMS.includes(s)))return\"moderate\";return\"mild\";}function severityColor(sev){if(sev===\"critical\")return\"#ef4444\";if(sev===\"moderate\")return\"#f59e0b\";return\"#4ade80\";}function riskClass(risk){if(!risk)return\"risk-unknown\";const r=risk.toLowerCase();if(r.includes(\"high\")||r.includes(\"critical\"))return\"risk-high\";if(r.includes(\"moderate\")||r.includes(\"medium\"))return\"risk-moderate\";if(r.includes(\"low\"))return\"risk-low\";return\"risk-unknown\";}// ────────────────────────────\n// HumanBody SVG Component\n// ────────────────────────────\nfunction HumanBodySVG(_ref){let{item}=_ref;const[tooltip,setTooltip]=useState(null);const activeSymptoms=getActiveSymptoms(item);const isFemale=(item.patient_gender||\"\").toLowerCase()===\"female\";const hasFullBody=FULL_BODY_SYMPTOMS.some(s=>activeSymptoms.includes(s));const fullBodyActive=FULL_BODY_SYMPTOMS.filter(s=>activeSymptoms.includes(s));return/*#__PURE__*/_jsxs(\"div\",{className:\"body-svg-container\",children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 300 380\",xmlns:\"http://www.w3.org/2000/svg\",children:[hasFullBody&&/*#__PURE__*/_jsx(\"path\",{d:isFemale?FEMALE_PATH:MALE_PATH,fill:\"none\",stroke:severityColor(getRegionSeverity(fullBodyActive,FULL_BODY_SYMPTOMS)||\"mild\"),strokeWidth:\"6\",className:\"body-glow\",opacity:\"0.3\"}),/*#__PURE__*/_jsx(\"path\",{d:isFemale?FEMALE_PATH:MALE_PATH,fill:\"rgba(255,255,255,0.08)\",stroke:\"rgba(255,255,255,0.15)\",strokeWidth:\"1\"}),BODY_REGIONS.map(region=>{const severity=getRegionSeverity(activeSymptoms,region.symptoms);if(!severity)return null;const matched=region.symptoms.filter(s=>activeSymptoms.includes(s));return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:region.cx,cy:region.cy,r:\"10\",fill:severityColor(severity),opacity:\"0.3\",className:\"body-marker\"}),/*#__PURE__*/_jsx(\"circle\",{cx:region.cx,cy:region.cy,r:\"5\",fill:severityColor(severity),className:\"body-marker-inner\"}),/*#__PURE__*/_jsx(\"circle\",{cx:region.cx,cy:region.cy,r:\"16\",fill:\"transparent\",style:{cursor:\"pointer\"},onMouseEnter:()=>setTooltip({x:region.cx,y:region.cy-20,text:\"\".concat(region.name,\": \").concat(matched.map(symptomLabel).join(\", \"))}),onMouseLeave:()=>setTooltip(null)})]},region.name);})]}),tooltip&&/*#__PURE__*/_jsx(\"div\",{className:\"marker-tooltip\",style:{left:\"\".concat(tooltip.x/300*100,\"%\"),top:\"\".concat(tooltip.y/380*100,\"%\")},children:tooltip.text}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-legend\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-dot critical\"}),\" Critical\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-dot moderate\"}),\" Moderate\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-dot mild\"}),\" Mild\"]})]})]});}// ────────────────────────────\n// Main Component\n// ────────────────────────────\nfunction DoctorDashboard(){const[triageList,setTriageList]=useState([]);const[emergencyList,setEmergencyList]=useState([]);const[loading,setLoading]=useState(true);const[userName,setUserName]=useState(\"\");const[tab,setTab]=useState(\"all\");// all | triage | emergency\nconst[selected,setSelected]=useState(null);// { type, data }\nconst[showResolve,setShowResolve]=useState(false);const[showConvert,setShowConvert]=useState(false);const[showEditHistory,setShowEditHistory]=useState(false);const[convertForm,setConvertForm]=useState({systolic_bp:\"\",heart_rate:\"\",temperature:\"\",oxygen:\"\"});const[convertSymptoms,setConvertSymptoms]=useState({});const[historyForm,setHistoryForm]=useState({});const[actionLoading,setActionLoading]=useState(false);const[actionError,setActionError]=useState(\"\");const navigate=useNavigate();// Auth check\nuseEffect(()=>{fetch(\"\".concat(API,\"/api/user-role/\"),{credentials:\"include\"}).then(res=>{if(!res.ok)navigate(\"/\");return res.json();}).then(d=>{if(d.role!==\"doctor\")navigate(\"/\");else setUserName(d.name);}).catch(()=>navigate(\"/\"));},[navigate]);// Load data\nconst loadData=useCallback(()=>{fetch(\"\".concat(API,\"/api/doctor-dashboard/\"),{credentials:\"include\"}).then(res=>res.json()).then(result=>{if(result.triage_requests)setTriageList(result.triage_requests);if(result.emergency_requests)setEmergencyList(result.emergency_requests);setLoading(false);}).catch(()=>setLoading(false));},[]);useEffect(()=>{loadData();},[loadData]);const handleLogout=async()=>{await fetch(\"\".concat(API,\"/api/logout/\"),{method:\"POST\",credentials:\"include\",headers:{\"X-CSRFToken\":getCookie(\"csrftoken\")}});navigate(\"/\");};// ── Select a card ──\nconst selectItem=(type,data)=>{setSelected({type,data});setShowResolve(false);setShowConvert(false);setShowEditHistory(false);setActionError(\"\");};const goBack=()=>{setSelected(null);setShowResolve(false);setShowConvert(false);setShowEditHistory(false);setActionError(\"\");};// ── Resolve triage ──\nconst handleResolve=async()=>{setActionLoading(true);setActionError(\"\");try{const res=await fetch(\"\".concat(API,\"/api/triage-request/\").concat(selected.data.id,\"/resolve/\"),{method:\"DELETE\",credentials:\"include\",headers:{\"X-CSRFToken\":getCookie(\"csrftoken\")}});if(res.ok){setTriageList(prev=>prev.filter(t=>t.id!==selected.data.id));goBack();}else{const err=await res.json().catch(()=>({}));setActionError(err.error||\"Failed to resolve triage request.\");}}catch(_unused){setActionError(\"Network error. Please try again.\");}finally{setActionLoading(false);}};// ── Convert emergency ──\nconst openConvert=()=>{setShowConvert(true);setConvertForm({systolic_bp:\"\",heart_rate:\"\",temperature:\"\",oxygen:\"\"});setConvertSymptoms({});};const handleConvert=async()=>{setActionLoading(true);setActionError(\"\");try{const body=_objectSpread(_objectSpread({},convertForm),convertSymptoms);const res=await fetch(\"\".concat(API,\"/api/emergency/\").concat(selected.data.id,\"/convert/\"),{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":getCookie(\"csrftoken\")},body:JSON.stringify(body)});if(res.ok){const newTriage=await res.json();setEmergencyList(prev=>prev.filter(e=>e.id!==selected.data.id));setTriageList(prev=>[newTriage,...prev]);goBack();}else{const err=await res.json().catch(()=>({}));setActionError(err.error||\"Failed to convert emergency request.\");}}catch(_unused2){setActionError(\"Network error. Please try again.\");}finally{setActionLoading(false);}};// ── Edit history ──\nconst openEditHistory=()=>{const d=selected.data;const form={};HISTORY_BOOLEANS.forEach(f=>{form[f]=d[\"patient_\".concat(f)]||false;});form.allergies=d.patient_allergies||\"\";form.past_surgeries=d.patient_past_surgeries||\"\";setHistoryForm(form);setShowEditHistory(true);};const handleSaveHistory=async()=>{setActionLoading(true);setActionError(\"\");try{const res=await fetch(\"\".concat(API,\"/api/patient/\").concat(selected.data.patient_id,\"/history/\"),{method:\"PATCH\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":getCookie(\"csrftoken\")},body:JSON.stringify(historyForm)});if(res.ok){// Update local state\nconst updatePatientFields=item=>{const updated=_objectSpread({},item);HISTORY_BOOLEANS.forEach(f=>{updated[\"patient_\".concat(f)]=historyForm[f];});updated.patient_allergies=historyForm.allergies;updated.patient_past_surgeries=historyForm.past_surgeries;return updated;};if(selected.type===\"triage\"){setTriageList(prev=>prev.map(t=>t.id===selected.data.id?updatePatientFields(t):t));}else{setEmergencyList(prev=>prev.map(e=>e.id===selected.data.id?updatePatientFields(e):e));}setSelected(prev=>_objectSpread(_objectSpread({},prev),{},{data:updatePatientFields(prev.data)}));setShowEditHistory(false);}else{const err=await res.json().catch(()=>({}));setActionError(err.error||\"Failed to update patient history.\");}}catch(_unused3){setActionError(\"Network error. Please try again.\");}finally{setActionLoading(false);}};// ── Filter items for list view ──\nconst filteredItems=()=>{const items=[];if(tab===\"all\"||tab===\"triage\"){triageList.forEach(t=>items.push({type:\"triage\",data:t}));}if(tab===\"all\"||tab===\"emergency\"){emergencyList.forEach(e=>items.push({type:\"emergency\",data:e}));}return items;};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"doctor-loading\",children:\"Loading dashboard...\"});// ────────────────────────────\n// DETAIL VIEW\n// ────────────────────────────\nif(selected){const item=selected.data;const isTriage=selected.type===\"triage\";const activeSymptoms=isTriage?getActiveSymptoms(item):[];return/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"doctor-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-header-left\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"ApexHealth\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-header-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"doctor-name\",children:[\"Dr. \",/*#__PURE__*/_jsx(\"strong\",{children:userName})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"doctor-main detail-view\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:goBack,children:\"Back to List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-layout\",children:[isTriage&&/*#__PURE__*/_jsx(\"div\",{className:\"detail-left\",children:/*#__PURE__*/_jsx(HumanBodySVG,{item:item})}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"space-between\",marginBottom:8},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:item.patient_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-meta\",children:[item.patient_age,\"y, \",item.patient_gender,item.patient_blood_group&&\" | \".concat(item.patient_blood_group)]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:8},children:isTriage?/*#__PURE__*/_jsx(\"span\",{className:\"risk-badge \".concat(riskClass(item.predicted_risk)),children:item.predicted_risk||\"N/A\"}):/*#__PURE__*/_jsx(\"span\",{className:\"emergency-badge\",children:\"Emergency\"})})]}),isTriage&&item.recommended_department&&/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Department:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",style:{color:\"#818cf8\"},children:item.recommended_department.replace(/_/g,\" \")})]}),!isTriage&&item.department&&/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Department:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",style:{color:\"#f87171\"},children:item.department.replace(/_/g,\" \")})]}),item.patient_allergies&&/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Allergies:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:item.patient_allergies})]}),item.patient_past_surgeries&&/*#__PURE__*/_jsxs(\"div\",{className:\"patient-info-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Past Surgeries:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:item.patient_past_surgeries})]}),HISTORY_BOOLEANS.some(f=>item[\"patient_\".concat(f)])&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:\"#6b7280\",textTransform:\"uppercase\",letterSpacing:\"0.5px\",marginBottom:6},children:\"Medical History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"symptom-tags\",children:HISTORY_BOOLEANS.filter(f=>item[\"patient_\".concat(f)]).map(f=>/*#__PURE__*/_jsx(\"span\",{className:\"symptom-tag moderate\",children:symptomLabel(f)},f))})]})]}),isTriage&&/*#__PURE__*/_jsxs(\"div\",{className:\"vitals-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"Systolic BP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.systolic_bp})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"Heart Rate\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.heart_rate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"Temp\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.temperature})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"SpO2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-value\",children:[item.oxygen,\"%\"]})]})]}),isTriage&&activeSymptoms.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"symptoms-detail\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Active Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"symptom-tags\",children:activeSymptoms.map(s=>/*#__PURE__*/_jsx(\"span\",{className:\"symptom-tag \".concat(symptomSeverity(s)),children:symptomLabel(s)},s))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-actions\",children:[isTriage&&/*#__PURE__*/_jsx(\"button\",{className:\"action-resolve\",onClick:()=>setShowResolve(true),children:\"Resolve / Discharge\"}),!isTriage&&/*#__PURE__*/_jsx(\"button\",{className:\"action-convert\",onClick:openConvert,children:\"Convert to Inpatient\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-edit-history\",onClick:openEditHistory,children:\"Edit History\"})]}),actionError&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16,padding:\"12px 16px\",background:\"rgba(239, 68, 68, 0.08)\",border:\"1px solid rgba(239, 68, 68, 0.3)\",borderRadius:8,color:\"#f87171\",fontSize:14},children:actionError}),showResolve&&/*#__PURE__*/_jsxs(\"div\",{className:\"resolve-confirm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Resolve triage for \",/*#__PURE__*/_jsx(\"strong\",{children:item.patient_name}),\"? This cannot be undone.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"resolve-confirm-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"resolve-yes\",onClick:handleResolve,disabled:actionLoading,children:actionLoading?\"Resolving...\":\"Yes, Resolve\"}),/*#__PURE__*/_jsx(\"button\",{className:\"resolve-no\",onClick:()=>setShowResolve(false),children:\"Cancel\"})]})]}),showConvert&&/*#__PURE__*/_jsxs(\"div\",{className:\"convert-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Enter Vitals & Symptoms to Convert\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vitals-form\",children:[{key:\"systolic_bp\",label:\"Systolic BP\"},{key:\"heart_rate\",label:\"Heart Rate\"},{key:\"temperature\",label:\"Temperature\"},{key:\"oxygen\",label:\"SpO2 %\"}].map(v=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:v.label}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:convertForm[v.key],onChange:e=>setConvertForm(prev=>_objectSpread(_objectSpread({},prev),{},{[v.key]:e.target.value}))})]},v.key))}),/*#__PURE__*/_jsxs(\"div\",{className:\"symptoms-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Critical Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:CRITICAL_SYMPTOMS.map(s=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!convertSymptoms[s],onChange:e=>setConvertSymptoms(prev=>_objectSpread(_objectSpread({},prev),{},{[s]:e.target.checked}))}),symptomLabel(s)]},s))}),/*#__PURE__*/_jsx(\"h4\",{children:\"Moderate Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:MODERATE_SYMPTOMS.map(s=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!convertSymptoms[s],onChange:e=>setConvertSymptoms(prev=>_objectSpread(_objectSpread({},prev),{},{[s]:e.target.checked}))}),symptomLabel(s)]},s))}),/*#__PURE__*/_jsx(\"h4\",{children:\"Mild Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:SYMPTOM_FIELDS.filter(s=>!CRITICAL_SYMPTOMS.includes(s)&&!MODERATE_SYMPTOMS.includes(s)).map(s=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!convertSymptoms[s],onChange:e=>setConvertSymptoms(prev=>_objectSpread(_objectSpread({},prev),{},{[s]:e.target.checked}))}),symptomLabel(s)]},s))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"convert-submit\",onClick:handleConvert,disabled:actionLoading||!convertForm.systolic_bp||!convertForm.heart_rate||!convertForm.temperature||!convertForm.oxygen,children:actionLoading?\"Converting...\":\"Convert to Inpatient\"})]}),showEditHistory&&/*#__PURE__*/_jsxs(\"div\",{className:\"edit-history-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Edit Patient Medical History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:HISTORY_BOOLEANS.map(f=>/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!historyForm[f],onChange:e=>setHistoryForm(prev=>_objectSpread(_objectSpread({},prev),{},{[f]:e.target.checked}))}),symptomLabel(f)]},f))}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-history-text\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Allergies\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:2,value:historyForm.allergies||\"\",onChange:e=>setHistoryForm(prev=>_objectSpread(_objectSpread({},prev),{},{allergies:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-history-text\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Past Surgeries\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:2,value:historyForm.past_surgeries||\"\",onChange:e=>setHistoryForm(prev=>_objectSpread(_objectSpread({},prev),{},{past_surgeries:e.target.value}))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"history-save-btn\",onClick:handleSaveHistory,disabled:actionLoading,children:actionLoading?\"Saving...\":\"Save Changes\"})]})]})]})]})]});}// ────────────────────────────\n// LIST VIEW\n// ────────────────────────────\nconst items=filteredItems();return/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"doctor-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-header-left\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"ApexHealth\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"doctor-header-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"doctor-name\",children:[\"Dr. \",/*#__PURE__*/_jsx(\"strong\",{children:userName})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"doctor-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tab-filter\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(tab===\"all\"?\"active\":\"\"),onClick:()=>setTab(\"all\"),children:[\"All\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"tab-count\",children:triageList.length+emergencyList.length})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(tab===\"triage\"?\"active\":\"\"),onClick:()=>setTab(\"triage\"),children:[\"Triage \",/*#__PURE__*/_jsx(\"span\",{className:\"tab-count\",children:triageList.length})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"tab-btn \".concat(tab===\"emergency\"?\"active\":\"\"),onClick:()=>setTab(\"emergency\"),children:[\"Emergency \",/*#__PURE__*/_jsx(\"span\",{className:\"tab-count\",children:emergencyList.length})]})]}),items.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No assigned patients.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"triage-grid\",children:items.map(_ref2=>{let{type,data}=_ref2;const isTriage=type===\"triage\";const activeSymptoms=isTriage?getActiveSymptoms(data):[];return/*#__PURE__*/_jsxs(\"div\",{className:\"triage-card clickable\",onClick:()=>selectItem(type,data),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"triage-card-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"patient-name\",children:data.patient_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-meta\",children:[data.patient_age,\"y, \",data.patient_gender,data.patient_blood_group?\" | \".concat(data.patient_blood_group):\"\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",gap:6,alignItems:\"center\"},children:isTriage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"triage-badge\",children:\"Triage\"}),/*#__PURE__*/_jsx(\"span\",{className:\"risk-badge \".concat(riskClass(data.predicted_risk)),children:data.predicted_risk||\"N/A\"})]}):/*#__PURE__*/_jsx(\"span\",{className:\"emergency-badge\",children:\"Emergency\"})})]}),isTriage&&/*#__PURE__*/_jsxs(\"div\",{className:\"vitals-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"BP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:data.systolic_bp})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"HR\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:data.heart_rate})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"Temp\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:data.temperature})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"SpO2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-value\",children:[data.oxygen,\"%\"]})]})]}),isTriage&&activeSymptoms.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"symptom-tags\",style:{marginBottom:12},children:[activeSymptoms.slice(0,4).map(s=>/*#__PURE__*/_jsx(\"span\",{className:\"symptom-tag \".concat(symptomSeverity(s)),children:symptomLabel(s)},s)),activeSymptoms.length>4&&/*#__PURE__*/_jsxs(\"span\",{className:\"symptom-tag mild\",children:[\"+\",activeSymptoms.length-4,\" more\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"triage-card-footer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"department\",children:(isTriage?data.recommended_department:data.department||\"\").replace(/_/g,\" \")}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:data.created_at?new Date(data.created_at).toLocaleString():\"\"})]})]},\"\".concat(type,\"-\").concat(data.id));})})]})]});}export default DoctorDashboard;","map":{"version":3,"names":["useEffect","useState","useCallback","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API","getCookie","name","cookieValue","document","cookie","cookies","split","trim","startsWith","decodeURIComponent","substring","length","SYMPTOM_FIELDS","CRITICAL_SYMPTOMS","MODERATE_SYMPTOMS","symptomSeverity","s","includes","symptomLabel","replace","c","toUpperCase","BODY_REGIONS","cx","cy","symptoms","FULL_BODY_SYMPTOMS","HISTORY_BOOLEANS","MALE_PATH","FEMALE_PATH","getActiveSymptoms","item","filter","getRegionSeverity","activeSymptoms","regionSymptoms","matched","some","severityColor","sev","riskClass","risk","r","toLowerCase","HumanBodySVG","_ref","tooltip","setTooltip","isFemale","patient_gender","hasFullBody","fullBodyActive","className","children","viewBox","xmlns","d","fill","stroke","strokeWidth","opacity","map","region","severity","style","cursor","onMouseEnter","x","y","text","concat","join","onMouseLeave","left","top","DoctorDashboard","triageList","setTriageList","emergencyList","setEmergencyList","loading","setLoading","userName","setUserName","tab","setTab","selected","setSelected","showResolve","setShowResolve","showConvert","setShowConvert","showEditHistory","setShowEditHistory","convertForm","setConvertForm","systolic_bp","heart_rate","temperature","oxygen","convertSymptoms","setConvertSymptoms","historyForm","setHistoryForm","actionLoading","setActionLoading","actionError","setActionError","navigate","fetch","credentials","then","res","ok","json","role","catch","loadData","result","triage_requests","emergency_requests","handleLogout","method","headers","selectItem","type","data","goBack","handleResolve","id","prev","t","err","error","_unused","openConvert","handleConvert","body","_objectSpread","JSON","stringify","newTriage","e","_unused2","openEditHistory","form","forEach","f","allergies","patient_allergies","past_surgeries","patient_past_surgeries","handleSaveHistory","patient_id","updatePatientFields","updated","_unused3","filteredItems","items","push","isTriage","onClick","display","alignItems","justifyContent","marginBottom","patient_name","patient_age","patient_blood_group","gap","predicted_risk","recommended_department","color","department","marginTop","fontSize","textTransform","letterSpacing","padding","background","border","borderRadius","disabled","key","label","v","value","onChange","target","checked","rows","_ref2","slice","created_at","Date","toLocaleString"],"sources":["C:/Users/Praanesh MB/OneDrive/Documents/Kanini-Hackathon-master/frontend/src/pages/DoctorDashboard.js"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./DoctorDashboard.css\";\nimport \"./NurseDashboard.css\";\nimport \"./EmergencyCases.css\";\n\nconst API = \"http://localhost:8000\";\n\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let cookie of cookies) {\n      cookie = cookie.trim();\n      if (cookie.startsWith(name + \"=\")) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n\n// ── Symptom metadata ──\nconst SYMPTOM_FIELDS = [\n  \"chest_pain\",\n  \"severe_breathlessness\",\n  \"sudden_confusion\",\n  \"stroke_symptoms\",\n  \"seizure\",\n  \"severe_trauma\",\n  \"uncontrolled_bleeding\",\n  \"loss_of_consciousness\",\n  \"severe_allergic_reaction\",\n  \"persistent_fever\",\n  \"vomiting\",\n  \"moderate_abdominal_pain\",\n  \"persistent_cough\",\n  \"moderate_breathlessness\",\n  \"severe_headache\",\n  \"dizziness\",\n  \"dehydration\",\n  \"palpitations\",\n  \"migraine\",\n  \"mild_headache\",\n  \"sore_throat\",\n  \"runny_nose\",\n  \"mild_cough\",\n  \"fatigue\",\n  \"body_ache\",\n  \"mild_abdominal_pain\",\n  \"skin_rash\",\n  \"mild_back_pain\",\n  \"mild_joint_pain\",\n];\n\nconst CRITICAL_SYMPTOMS = [\n  \"chest_pain\",\n  \"severe_breathlessness\",\n  \"sudden_confusion\",\n  \"stroke_symptoms\",\n  \"seizure\",\n  \"severe_trauma\",\n  \"uncontrolled_bleeding\",\n  \"loss_of_consciousness\",\n  \"severe_allergic_reaction\",\n];\nconst MODERATE_SYMPTOMS = [\n  \"persistent_fever\",\n  \"vomiting\",\n  \"moderate_abdominal_pain\",\n  \"persistent_cough\",\n  \"moderate_breathlessness\",\n  \"severe_headache\",\n  \"dizziness\",\n  \"dehydration\",\n  \"palpitations\",\n  \"migraine\",\n];\n// everything else is mild\n\nfunction symptomSeverity(s) {\n  if (CRITICAL_SYMPTOMS.includes(s)) return \"critical\";\n  if (MODERATE_SYMPTOMS.includes(s)) return \"moderate\";\n  return \"mild\";\n}\n\nfunction symptomLabel(s) {\n  return s.replace(/_/g, \" \").replace(/\\b\\w/g, (c) => c.toUpperCase());\n}\n\n// ── Body region mapping ──\nconst BODY_REGIONS = [\n  {\n    name: \"Head\",\n    cx: 150,\n    cy: 45,\n    symptoms: [\n      \"sudden_confusion\",\n      \"stroke_symptoms\",\n      \"loss_of_consciousness\",\n      \"severe_headache\",\n      \"dizziness\",\n      \"migraine\",\n      \"mild_headache\",\n    ],\n  },\n  { name: \"Throat\", cx: 150, cy: 85, symptoms: [\"sore_throat\"] },\n  {\n    name: \"Chest\",\n    cx: 150,\n    cy: 130,\n    symptoms: [\n      \"chest_pain\",\n      \"severe_breathlessness\",\n      \"palpitations\",\n      \"moderate_breathlessness\",\n      \"persistent_cough\",\n    ],\n  },\n  {\n    name: \"Abdomen\",\n    cx: 150,\n    cy: 185,\n    symptoms: [\"moderate_abdominal_pain\", \"vomiting\", \"mild_abdominal_pain\"],\n  },\n  {\n    name: \"Left Arm\",\n    cx: 95,\n    cy: 155,\n    symptoms: [\"severe_trauma\", \"uncontrolled_bleeding\"],\n  },\n  {\n    name: \"Right Arm\",\n    cx: 205,\n    cy: 155,\n    symptoms: [\"severe_trauma\", \"uncontrolled_bleeding\"],\n  },\n  {\n    name: \"Left Leg\",\n    cx: 125,\n    cy: 295,\n    symptoms: [\"mild_joint_pain\", \"mild_back_pain\"],\n  },\n  {\n    name: \"Right Leg\",\n    cx: 175,\n    cy: 295,\n    symptoms: [\"mild_joint_pain\", \"mild_back_pain\"],\n  },\n  { name: \"Nose\", cx: 150, cy: 55, symptoms: [\"runny_nose\", \"mild_cough\"] },\n];\n\nconst FULL_BODY_SYMPTOMS = [\n  \"seizure\",\n  \"severe_allergic_reaction\",\n  \"persistent_fever\",\n  \"fatigue\",\n  \"skin_rash\",\n  \"dehydration\",\n  \"body_ache\",\n];\n\nconst HISTORY_BOOLEANS = [\n  \"diabetes\",\n  \"hypertension\",\n  \"heart_disease\",\n  \"asthma\",\n  \"chronic_kidney_disease\",\n  \"previous_stroke\",\n  \"smoker\",\n  \"obese\",\n  \"previous_heart_attack\",\n  \"previous_hospitalization\",\n];\n\n// ── Male & Female SVG silhouette paths ──\nconst MALE_PATH =\n  \"M150 10 C135 10 125 20 125 35 C125 50 135 60 150 60 C165 60 175 50 175 35 C175 20 165 10 150 10 Z M140 62 L130 65 L110 75 L90 140 L95 145 L115 90 L120 110 L105 200 L110 200 L115 260 L120 340 L130 340 L135 260 L140 200 L145 200 L150 260 L155 200 L160 200 L165 260 L170 340 L180 340 L185 260 L190 200 L195 200 L180 110 L185 90 L205 145 L210 140 L190 75 L170 65 L160 62 Z\";\n\nconst FEMALE_PATH =\n  \"M150 10 C135 10 125 20 125 35 C125 50 135 60 150 60 C165 60 175 50 175 35 C175 20 165 10 150 10 Z M140 62 L128 66 L112 78 L95 140 L100 143 L118 92 L120 110 L108 170 L115 180 L105 200 L110 200 L118 260 L122 340 L132 340 L136 260 L140 200 L145 200 L150 260 L155 200 L160 200 L164 260 L168 340 L178 340 L182 260 L190 200 L195 200 L185 180 L192 170 L180 110 L182 92 L200 143 L205 140 L188 78 L172 66 L160 62 Z\";\n\nfunction getActiveSymptoms(item) {\n  return SYMPTOM_FIELDS.filter((s) => item[s]);\n}\n\nfunction getRegionSeverity(activeSymptoms, regionSymptoms) {\n  const matched = regionSymptoms.filter((s) => activeSymptoms.includes(s));\n  if (matched.length === 0) return null;\n  if (matched.some((s) => CRITICAL_SYMPTOMS.includes(s))) return \"critical\";\n  if (matched.some((s) => MODERATE_SYMPTOMS.includes(s))) return \"moderate\";\n  return \"mild\";\n}\n\nfunction severityColor(sev) {\n  if (sev === \"critical\") return \"#ef4444\";\n  if (sev === \"moderate\") return \"#f59e0b\";\n  return \"#4ade80\";\n}\n\nfunction riskClass(risk) {\n  if (!risk) return \"risk-unknown\";\n  const r = risk.toLowerCase();\n  if (r.includes(\"high\") || r.includes(\"critical\")) return \"risk-high\";\n  if (r.includes(\"moderate\") || r.includes(\"medium\")) return \"risk-moderate\";\n  if (r.includes(\"low\")) return \"risk-low\";\n  return \"risk-unknown\";\n}\n\n// ────────────────────────────\n// HumanBody SVG Component\n// ────────────────────────────\nfunction HumanBodySVG({ item }) {\n  const [tooltip, setTooltip] = useState(null);\n  const activeSymptoms = getActiveSymptoms(item);\n  const isFemale = (item.patient_gender || \"\").toLowerCase() === \"female\";\n  const hasFullBody = FULL_BODY_SYMPTOMS.some((s) =>\n    activeSymptoms.includes(s),\n  );\n  const fullBodyActive = FULL_BODY_SYMPTOMS.filter((s) =>\n    activeSymptoms.includes(s),\n  );\n\n  return (\n    <div className=\"body-svg-container\">\n      <svg viewBox=\"0 0 300 380\" xmlns=\"http://www.w3.org/2000/svg\">\n        {/* Full-body glow */}\n        {hasFullBody && (\n          <path\n            d={isFemale ? FEMALE_PATH : MALE_PATH}\n            fill=\"none\"\n            stroke={severityColor(\n              getRegionSeverity(fullBodyActive, FULL_BODY_SYMPTOMS) || \"mild\",\n            )}\n            strokeWidth=\"6\"\n            className=\"body-glow\"\n            opacity=\"0.3\"\n          />\n        )}\n\n        {/* Silhouette */}\n        <path\n          d={isFemale ? FEMALE_PATH : MALE_PATH}\n          fill=\"rgba(255,255,255,0.08)\"\n          stroke=\"rgba(255,255,255,0.15)\"\n          strokeWidth=\"1\"\n        />\n\n        {/* Region markers */}\n        {BODY_REGIONS.map((region) => {\n          const severity = getRegionSeverity(activeSymptoms, region.symptoms);\n          if (!severity) return null;\n          const matched = region.symptoms.filter((s) =>\n            activeSymptoms.includes(s),\n          );\n          return (\n            <g key={region.name}>\n              <circle\n                cx={region.cx}\n                cy={region.cy}\n                r=\"10\"\n                fill={severityColor(severity)}\n                opacity=\"0.3\"\n                className=\"body-marker\"\n              />\n              <circle\n                cx={region.cx}\n                cy={region.cy}\n                r=\"5\"\n                fill={severityColor(severity)}\n                className=\"body-marker-inner\"\n              />\n              {/* Hover target */}\n              <circle\n                cx={region.cx}\n                cy={region.cy}\n                r=\"16\"\n                fill=\"transparent\"\n                style={{ cursor: \"pointer\" }}\n                onMouseEnter={() =>\n                  setTooltip({\n                    x: region.cx,\n                    y: region.cy - 20,\n                    text: `${region.name}: ${matched.map(symptomLabel).join(\", \")}`,\n                  })\n                }\n                onMouseLeave={() => setTooltip(null)}\n              />\n            </g>\n          );\n        })}\n      </svg>\n\n      {tooltip && (\n        <div\n          className=\"marker-tooltip\"\n          style={{\n            left: `${(tooltip.x / 300) * 100}%`,\n            top: `${(tooltip.y / 380) * 100}%`,\n          }}\n        >\n          {tooltip.text}\n        </div>\n      )}\n\n      <div className=\"body-legend\">\n        <div className=\"legend-item\">\n          <div className=\"legend-dot critical\" /> Critical\n        </div>\n        <div className=\"legend-item\">\n          <div className=\"legend-dot moderate\" /> Moderate\n        </div>\n        <div className=\"legend-item\">\n          <div className=\"legend-dot mild\" /> Mild\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ────────────────────────────\n// Main Component\n// ────────────────────────────\nfunction DoctorDashboard() {\n  const [triageList, setTriageList] = useState([]);\n  const [emergencyList, setEmergencyList] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [userName, setUserName] = useState(\"\");\n  const [tab, setTab] = useState(\"all\"); // all | triage | emergency\n  const [selected, setSelected] = useState(null); // { type, data }\n  const [showResolve, setShowResolve] = useState(false);\n  const [showConvert, setShowConvert] = useState(false);\n  const [showEditHistory, setShowEditHistory] = useState(false);\n  const [convertForm, setConvertForm] = useState({\n    systolic_bp: \"\",\n    heart_rate: \"\",\n    temperature: \"\",\n    oxygen: \"\",\n  });\n  const [convertSymptoms, setConvertSymptoms] = useState({});\n  const [historyForm, setHistoryForm] = useState({});\n  const [actionLoading, setActionLoading] = useState(false);\n  const [actionError, setActionError] = useState(\"\");\n  const navigate = useNavigate();\n\n  // Auth check\n  useEffect(() => {\n    fetch(`${API}/api/user-role/`, { credentials: \"include\" })\n      .then((res) => {\n        if (!res.ok) navigate(\"/\");\n        return res.json();\n      })\n      .then((d) => {\n        if (d.role !== \"doctor\") navigate(\"/\");\n        else setUserName(d.name);\n      })\n      .catch(() => navigate(\"/\"));\n  }, [navigate]);\n\n  // Load data\n  const loadData = useCallback(() => {\n    fetch(`${API}/api/doctor-dashboard/`, { credentials: \"include\" })\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.triage_requests) setTriageList(result.triage_requests);\n        if (result.emergency_requests)\n          setEmergencyList(result.emergency_requests);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, []);\n\n  useEffect(() => {\n    loadData();\n  }, [loadData]);\n\n  const handleLogout = async () => {\n    await fetch(`${API}/api/logout/`, {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: { \"X-CSRFToken\": getCookie(\"csrftoken\") },\n    });\n    navigate(\"/\");\n  };\n\n  // ── Select a card ──\n  const selectItem = (type, data) => {\n    setSelected({ type, data });\n    setShowResolve(false);\n    setShowConvert(false);\n    setShowEditHistory(false);\n    setActionError(\"\");\n  };\n\n  const goBack = () => {\n    setSelected(null);\n    setShowResolve(false);\n    setShowConvert(false);\n    setShowEditHistory(false);\n    setActionError(\"\");\n  };\n\n  // ── Resolve triage ──\n  const handleResolve = async () => {\n    setActionLoading(true);\n    setActionError(\"\");\n    try {\n      const res = await fetch(\n        `${API}/api/triage-request/${selected.data.id}/resolve/`,\n        {\n          method: \"DELETE\",\n          credentials: \"include\",\n          headers: { \"X-CSRFToken\": getCookie(\"csrftoken\") },\n        },\n      );\n      if (res.ok) {\n        setTriageList((prev) => prev.filter((t) => t.id !== selected.data.id));\n        goBack();\n      } else {\n        const err = await res.json().catch(() => ({}));\n        setActionError(err.error || \"Failed to resolve triage request.\");\n      }\n    } catch {\n      setActionError(\"Network error. Please try again.\");\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // ── Convert emergency ──\n  const openConvert = () => {\n    setShowConvert(true);\n    setConvertForm({\n      systolic_bp: \"\",\n      heart_rate: \"\",\n      temperature: \"\",\n      oxygen: \"\",\n    });\n    setConvertSymptoms({});\n  };\n\n  const handleConvert = async () => {\n    setActionLoading(true);\n    setActionError(\"\");\n    try {\n      const body = {\n        ...convertForm,\n        ...convertSymptoms,\n      };\n      const res = await fetch(\n        `${API}/api/emergency/${selected.data.id}/convert/`,\n        {\n          method: \"POST\",\n          credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-CSRFToken\": getCookie(\"csrftoken\"),\n          },\n          body: JSON.stringify(body),\n        },\n      );\n      if (res.ok) {\n        const newTriage = await res.json();\n        setEmergencyList((prev) =>\n          prev.filter((e) => e.id !== selected.data.id),\n        );\n        setTriageList((prev) => [newTriage, ...prev]);\n        goBack();\n      } else {\n        const err = await res.json().catch(() => ({}));\n        setActionError(err.error || \"Failed to convert emergency request.\");\n      }\n    } catch {\n      setActionError(\"Network error. Please try again.\");\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // ── Edit history ──\n  const openEditHistory = () => {\n    const d = selected.data;\n    const form = {};\n    HISTORY_BOOLEANS.forEach((f) => {\n      form[f] = d[`patient_${f}`] || false;\n    });\n    form.allergies = d.patient_allergies || \"\";\n    form.past_surgeries = d.patient_past_surgeries || \"\";\n    setHistoryForm(form);\n    setShowEditHistory(true);\n  };\n\n  const handleSaveHistory = async () => {\n    setActionLoading(true);\n    setActionError(\"\");\n    try {\n      const res = await fetch(\n        `${API}/api/patient/${selected.data.patient_id}/history/`,\n        {\n          method: \"PATCH\",\n          credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-CSRFToken\": getCookie(\"csrftoken\"),\n          },\n          body: JSON.stringify(historyForm),\n        },\n      );\n      if (res.ok) {\n        // Update local state\n        const updatePatientFields = (item) => {\n          const updated = { ...item };\n          HISTORY_BOOLEANS.forEach((f) => {\n            updated[`patient_${f}`] = historyForm[f];\n          });\n          updated.patient_allergies = historyForm.allergies;\n          updated.patient_past_surgeries = historyForm.past_surgeries;\n          return updated;\n        };\n\n        if (selected.type === \"triage\") {\n          setTriageList((prev) =>\n            prev.map((t) =>\n              t.id === selected.data.id ? updatePatientFields(t) : t,\n            ),\n          );\n        } else {\n          setEmergencyList((prev) =>\n            prev.map((e) =>\n              e.id === selected.data.id ? updatePatientFields(e) : e,\n            ),\n          );\n        }\n        setSelected((prev) => ({\n          ...prev,\n          data: updatePatientFields(prev.data),\n        }));\n        setShowEditHistory(false);\n      } else {\n        const err = await res.json().catch(() => ({}));\n        setActionError(err.error || \"Failed to update patient history.\");\n      }\n    } catch {\n      setActionError(\"Network error. Please try again.\");\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // ── Filter items for list view ──\n  const filteredItems = () => {\n    const items = [];\n    if (tab === \"all\" || tab === \"triage\") {\n      triageList.forEach((t) => items.push({ type: \"triage\", data: t }));\n    }\n    if (tab === \"all\" || tab === \"emergency\") {\n      emergencyList.forEach((e) => items.push({ type: \"emergency\", data: e }));\n    }\n    return items;\n  };\n\n  if (loading)\n    return <div className=\"doctor-loading\">Loading dashboard...</div>;\n\n  // ────────────────────────────\n  // DETAIL VIEW\n  // ────────────────────────────\n  if (selected) {\n    const item = selected.data;\n    const isTriage = selected.type === \"triage\";\n    const activeSymptoms = isTriage ? getActiveSymptoms(item) : [];\n\n    return (\n      <div className=\"doctor-page\">\n        <header className=\"doctor-header\">\n          <div className=\"doctor-header-left\">\n            <svg viewBox=\"0 0 24 24\">\n              <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\n            </svg>\n            <span>ApexHealth</span>\n          </div>\n          <div className=\"doctor-header-right\">\n            <span className=\"doctor-name\">\n              Dr. <strong>{userName}</strong>\n            </span>\n            <button className=\"logout-btn\" onClick={handleLogout}>\n              Logout\n            </button>\n          </div>\n        </header>\n\n        <main className=\"doctor-main detail-view\">\n          <button className=\"back-btn\" onClick={goBack}>\n            Back to List\n          </button>\n\n          <div className=\"detail-layout\">\n            {/* Left: Body SVG (triage only) */}\n            {isTriage && (\n              <div className=\"detail-left\">\n                <HumanBodySVG item={item} />\n              </div>\n            )}\n\n            {/* Right: Info */}\n            <div className=\"detail-right\">\n              {/* Patient info card */}\n              <div className=\"patient-info-card\">\n                <div\n                  style={{\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    justifyContent: \"space-between\",\n                    marginBottom: 8,\n                  }}\n                >\n                  <div>\n                    <h3>{item.patient_name}</h3>\n                    <div className=\"patient-info-meta\">\n                      {item.patient_age}y, {item.patient_gender}\n                      {item.patient_blood_group &&\n                        ` | ${item.patient_blood_group}`}\n                    </div>\n                  </div>\n                  <div style={{ display: \"flex\", gap: 8 }}>\n                    {isTriage ? (\n                      <span\n                        className={`risk-badge ${riskClass(item.predicted_risk)}`}\n                      >\n                        {item.predicted_risk || \"N/A\"}\n                      </span>\n                    ) : (\n                      <span className=\"emergency-badge\">Emergency</span>\n                    )}\n                  </div>\n                </div>\n\n                {isTriage && item.recommended_department && (\n                  <div className=\"patient-info-row\">\n                    <span className=\"label\">Department:</span>\n                    <span className=\"value\" style={{ color: \"#818cf8\" }}>\n                      {item.recommended_department.replace(/_/g, \" \")}\n                    </span>\n                  </div>\n                )}\n                {!isTriage && item.department && (\n                  <div className=\"patient-info-row\">\n                    <span className=\"label\">Department:</span>\n                    <span className=\"value\" style={{ color: \"#f87171\" }}>\n                      {item.department.replace(/_/g, \" \")}\n                    </span>\n                  </div>\n                )}\n\n                {item.patient_allergies && (\n                  <div className=\"patient-info-row\">\n                    <span className=\"label\">Allergies:</span>\n                    <span className=\"value\">{item.patient_allergies}</span>\n                  </div>\n                )}\n                {item.patient_past_surgeries && (\n                  <div className=\"patient-info-row\">\n                    <span className=\"label\">Past Surgeries:</span>\n                    <span className=\"value\">{item.patient_past_surgeries}</span>\n                  </div>\n                )}\n\n                {/* Medical history booleans */}\n                {HISTORY_BOOLEANS.some((f) => item[`patient_${f}`]) && (\n                  <div style={{ marginTop: 12 }}>\n                    <div\n                      style={{\n                        fontSize: 12,\n                        color: \"#6b7280\",\n                        textTransform: \"uppercase\",\n                        letterSpacing: \"0.5px\",\n                        marginBottom: 6,\n                      }}\n                    >\n                      Medical History\n                    </div>\n                    <div className=\"symptom-tags\">\n                      {HISTORY_BOOLEANS.filter((f) => item[`patient_${f}`]).map(\n                        (f) => (\n                          <span key={f} className=\"symptom-tag moderate\">\n                            {symptomLabel(f)}\n                          </span>\n                        ),\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Vitals (triage only) */}\n              {isTriage && (\n                <div className=\"vitals-grid\">\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">Systolic BP</div>\n                    <div className=\"vital-value\">{item.systolic_bp}</div>\n                  </div>\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">Heart Rate</div>\n                    <div className=\"vital-value\">{item.heart_rate}</div>\n                  </div>\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">Temp</div>\n                    <div className=\"vital-value\">{item.temperature}</div>\n                  </div>\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">SpO2</div>\n                    <div className=\"vital-value\">{item.oxygen}%</div>\n                  </div>\n                </div>\n              )}\n\n              {/* Active symptoms (triage only) */}\n              {isTriage && activeSymptoms.length > 0 && (\n                <div className=\"symptoms-detail\">\n                  <h4>Active Symptoms</h4>\n                  <div className=\"symptom-tags\">\n                    {activeSymptoms.map((s) => (\n                      <span\n                        key={s}\n                        className={`symptom-tag ${symptomSeverity(s)}`}\n                      >\n                        {symptomLabel(s)}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Action buttons */}\n              <div className=\"detail-actions\">\n                {isTriage && (\n                  <button\n                    className=\"action-resolve\"\n                    onClick={() => setShowResolve(true)}\n                  >\n                    Resolve / Discharge\n                  </button>\n                )}\n                {!isTriage && (\n                  <button className=\"action-convert\" onClick={openConvert}>\n                    Convert to Inpatient\n                  </button>\n                )}\n                <button\n                  className=\"action-edit-history\"\n                  onClick={openEditHistory}\n                >\n                  Edit History\n                </button>\n              </div>\n\n              {/* Error message */}\n              {actionError && (\n                <div style={{\n                  marginTop: 16,\n                  padding: \"12px 16px\",\n                  background: \"rgba(239, 68, 68, 0.08)\",\n                  border: \"1px solid rgba(239, 68, 68, 0.3)\",\n                  borderRadius: 8,\n                  color: \"#f87171\",\n                  fontSize: 14,\n                }}>\n                  {actionError}\n                </div>\n              )}\n\n              {/* Resolve confirmation */}\n              {showResolve && (\n                <div className=\"resolve-confirm\">\n                  <p>\n                    Resolve triage for <strong>{item.patient_name}</strong>?\n                    This cannot be undone.\n                  </p>\n                  <div className=\"resolve-confirm-actions\">\n                    <button\n                      className=\"resolve-yes\"\n                      onClick={handleResolve}\n                      disabled={actionLoading}\n                    >\n                      {actionLoading ? \"Resolving...\" : \"Yes, Resolve\"}\n                    </button>\n                    <button\n                      className=\"resolve-no\"\n                      onClick={() => setShowResolve(false)}\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              )}\n\n              {/* Convert form */}\n              {showConvert && (\n                <div className=\"convert-form\">\n                  <h4>Enter Vitals & Symptoms to Convert</h4>\n\n                  <div className=\"vitals-form\">\n                    {[\n                      { key: \"systolic_bp\", label: \"Systolic BP\" },\n                      { key: \"heart_rate\", label: \"Heart Rate\" },\n                      { key: \"temperature\", label: \"Temperature\" },\n                      { key: \"oxygen\", label: \"SpO2 %\" },\n                    ].map((v) => (\n                      <div className=\"form-field\" key={v.key}>\n                        <label>{v.label}</label>\n                        <input\n                          type=\"number\"\n                          value={convertForm[v.key]}\n                          onChange={(e) =>\n                            setConvertForm((prev) => ({\n                              ...prev,\n                              [v.key]: e.target.value,\n                            }))\n                          }\n                        />\n                      </div>\n                    ))}\n                  </div>\n\n                  <div className=\"symptoms-section\">\n                    <h4>Critical Symptoms</h4>\n                    <div className=\"checkbox-grid\">\n                      {CRITICAL_SYMPTOMS.map((s) => (\n                        <label className=\"checkbox-label\" key={s}>\n                          <input\n                            type=\"checkbox\"\n                            checked={!!convertSymptoms[s]}\n                            onChange={(e) =>\n                              setConvertSymptoms((prev) => ({\n                                ...prev,\n                                [s]: e.target.checked,\n                              }))\n                            }\n                          />\n                          {symptomLabel(s)}\n                        </label>\n                      ))}\n                    </div>\n                    <h4>Moderate Symptoms</h4>\n                    <div className=\"checkbox-grid\">\n                      {MODERATE_SYMPTOMS.map((s) => (\n                        <label className=\"checkbox-label\" key={s}>\n                          <input\n                            type=\"checkbox\"\n                            checked={!!convertSymptoms[s]}\n                            onChange={(e) =>\n                              setConvertSymptoms((prev) => ({\n                                ...prev,\n                                [s]: e.target.checked,\n                              }))\n                            }\n                          />\n                          {symptomLabel(s)}\n                        </label>\n                      ))}\n                    </div>\n                    <h4>Mild Symptoms</h4>\n                    <div className=\"checkbox-grid\">\n                      {SYMPTOM_FIELDS.filter(\n                        (s) =>\n                          !CRITICAL_SYMPTOMS.includes(s) &&\n                          !MODERATE_SYMPTOMS.includes(s),\n                      ).map((s) => (\n                        <label className=\"checkbox-label\" key={s}>\n                          <input\n                            type=\"checkbox\"\n                            checked={!!convertSymptoms[s]}\n                            onChange={(e) =>\n                              setConvertSymptoms((prev) => ({\n                                ...prev,\n                                [s]: e.target.checked,\n                              }))\n                            }\n                          />\n                          {symptomLabel(s)}\n                        </label>\n                      ))}\n                    </div>\n                  </div>\n\n                  <button\n                    className=\"convert-submit\"\n                    onClick={handleConvert}\n                    disabled={\n                      actionLoading ||\n                      !convertForm.systolic_bp ||\n                      !convertForm.heart_rate ||\n                      !convertForm.temperature ||\n                      !convertForm.oxygen\n                    }\n                  >\n                    {actionLoading ? \"Converting...\" : \"Convert to Inpatient\"}\n                  </button>\n                </div>\n              )}\n\n              {/* Edit history form */}\n              {showEditHistory && (\n                <div className=\"edit-history-form\">\n                  <h4>Edit Patient Medical History</h4>\n                  <div className=\"checkbox-grid\">\n                    {HISTORY_BOOLEANS.map((f) => (\n                      <label className=\"checkbox-label\" key={f}>\n                        <input\n                          type=\"checkbox\"\n                          checked={!!historyForm[f]}\n                          onChange={(e) =>\n                            setHistoryForm((prev) => ({\n                              ...prev,\n                              [f]: e.target.checked,\n                            }))\n                          }\n                        />\n                        {symptomLabel(f)}\n                      </label>\n                    ))}\n                  </div>\n                  <div className=\"edit-history-text\">\n                    <label>Allergies</label>\n                    <textarea\n                      rows={2}\n                      value={historyForm.allergies || \"\"}\n                      onChange={(e) =>\n                        setHistoryForm((prev) => ({\n                          ...prev,\n                          allergies: e.target.value,\n                        }))\n                      }\n                    />\n                  </div>\n                  <div className=\"edit-history-text\">\n                    <label>Past Surgeries</label>\n                    <textarea\n                      rows={2}\n                      value={historyForm.past_surgeries || \"\"}\n                      onChange={(e) =>\n                        setHistoryForm((prev) => ({\n                          ...prev,\n                          past_surgeries: e.target.value,\n                        }))\n                      }\n                    />\n                  </div>\n                  <button\n                    className=\"history-save-btn\"\n                    onClick={handleSaveHistory}\n                    disabled={actionLoading}\n                  >\n                    {actionLoading ? \"Saving...\" : \"Save Changes\"}\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n\n  // ────────────────────────────\n  // LIST VIEW\n  // ────────────────────────────\n  const items = filteredItems();\n\n  return (\n    <div className=\"doctor-page\">\n      <header className=\"doctor-header\">\n        <div className=\"doctor-header-left\">\n          <svg viewBox=\"0 0 24 24\">\n            <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />\n          </svg>\n          <span>ApexHealth</span>\n        </div>\n        <div className=\"doctor-header-right\">\n          <span className=\"doctor-name\">\n            Dr. <strong>{userName}</strong>\n          </span>\n          <button className=\"logout-btn\" onClick={handleLogout}>\n            Logout\n          </button>\n        </div>\n      </header>\n\n      <main className=\"doctor-main\">\n        {/* Tab filter */}\n        <div className=\"tab-filter\">\n          <button\n            className={`tab-btn ${tab === \"all\" ? \"active\" : \"\"}`}\n            onClick={() => setTab(\"all\")}\n          >\n            All{\" \"}\n            <span className=\"tab-count\">\n              {triageList.length + emergencyList.length}\n            </span>\n          </button>\n          <button\n            className={`tab-btn ${tab === \"triage\" ? \"active\" : \"\"}`}\n            onClick={() => setTab(\"triage\")}\n          >\n            Triage <span className=\"tab-count\">{triageList.length}</span>\n          </button>\n          <button\n            className={`tab-btn ${tab === \"emergency\" ? \"active\" : \"\"}`}\n            onClick={() => setTab(\"emergency\")}\n          >\n            Emergency <span className=\"tab-count\">{emergencyList.length}</span>\n          </button>\n        </div>\n\n        {items.length === 0 ? (\n          <p className=\"no-data\">No assigned patients.</p>\n        ) : (\n          <div className=\"triage-grid\">\n            {items.map(({ type, data }) => {\n              const isTriage = type === \"triage\";\n              const activeSymptoms = isTriage ? getActiveSymptoms(data) : [];\n              return (\n                <div\n                  key={`${type}-${data.id}`}\n                  className=\"triage-card clickable\"\n                  onClick={() => selectItem(type, data)}\n                >\n                  <div className=\"triage-card-header\">\n                    <div>\n                      <div className=\"patient-name\">{data.patient_name}</div>\n                      <div className=\"patient-meta\">\n                        {data.patient_age}y, {data.patient_gender}\n                        {data.patient_blood_group\n                          ? ` | ${data.patient_blood_group}`\n                          : \"\"}\n                      </div>\n                    </div>\n                    <div\n                      style={{ display: \"flex\", gap: 6, alignItems: \"center\" }}\n                    >\n                      {isTriage ? (\n                        <>\n                          <span className=\"triage-badge\">Triage</span>\n                          <span\n                            className={`risk-badge ${riskClass(data.predicted_risk)}`}\n                          >\n                            {data.predicted_risk || \"N/A\"}\n                          </span>\n                        </>\n                      ) : (\n                        <span className=\"emergency-badge\">Emergency</span>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Vitals for triage */}\n                  {isTriage && (\n                    <div className=\"vitals-grid\">\n                      <div className=\"vital-item\">\n                        <div className=\"vital-label\">BP</div>\n                        <div className=\"vital-value\">{data.systolic_bp}</div>\n                      </div>\n                      <div className=\"vital-item\">\n                        <div className=\"vital-label\">HR</div>\n                        <div className=\"vital-value\">{data.heart_rate}</div>\n                      </div>\n                      <div className=\"vital-item\">\n                        <div className=\"vital-label\">Temp</div>\n                        <div className=\"vital-value\">{data.temperature}</div>\n                      </div>\n                      <div className=\"vital-item\">\n                        <div className=\"vital-label\">SpO2</div>\n                        <div className=\"vital-value\">{data.oxygen}%</div>\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Symptom preview for triage */}\n                  {isTriage && activeSymptoms.length > 0 && (\n                    <div className=\"symptom-tags\" style={{ marginBottom: 12 }}>\n                      {activeSymptoms.slice(0, 4).map((s) => (\n                        <span\n                          key={s}\n                          className={`symptom-tag ${symptomSeverity(s)}`}\n                        >\n                          {symptomLabel(s)}\n                        </span>\n                      ))}\n                      {activeSymptoms.length > 4 && (\n                        <span className=\"symptom-tag mild\">\n                          +{activeSymptoms.length - 4} more\n                        </span>\n                      )}\n                    </div>\n                  )}\n\n                  <div className=\"triage-card-footer\">\n                    <span className=\"department\">\n                      {(isTriage\n                        ? data.recommended_department\n                        : data.department || \"\"\n                      ).replace(/_/g, \" \")}\n                    </span>\n                    <span className=\"timestamp\">\n                      {data.created_at\n                        ? new Date(data.created_at).toLocaleString()\n                        : \"\"}\n                    </span>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default DoctorDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}