{"ast":null,"code":"import _objectSpread from\"C:/Users/Praanesh MB/OneDrive/Documents/Kanini-Hackathon-master/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import\"./NurseDashboard.css\";import\"./EmergencyCases.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function getCookie(name){let cookieValue=null;if(document.cookie&&document.cookie!==\"\"){const cookies=document.cookie.split(\";\");for(let cookie of cookies){cookie=cookie.trim();if(cookie.startsWith(name+\"=\")){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}return cookieValue;}function formatDate(dateStr){if(!dateStr)return\"\";const d=new Date(dateStr);return d.toLocaleDateString(\"en-IN\",{day:\"numeric\",month:\"short\",year:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});}const EMPTY_PATIENT={full_name:\"\",age:\"\",gender:\"\",blood_group:\"\",allergies:\"\",past_surgeries:\"\",diabetes:false,hypertension:false,heart_disease:false,asthma:false,chronic_kidney_disease:false,previous_stroke:false,smoker:false,obese:false,previous_heart_attack:false,previous_hospitalization:false};// Keyword map: text → symptom checkbox keys\nconst SYMPTOM_KEYWORDS={chest_pain:[\"chest pain\",\"chest hurts\",\"chest ache\",\"pain in chest\"],severe_breathlessness:[\"severe breathlessness\",\"can't breathe\",\"cannot breathe\",\"extreme difficulty breathing\",\"severe breathing\"],sudden_confusion:[\"sudden confusion\",\"confused\",\"disoriented\",\"confusion\"],stroke_symptoms:[\"stroke\",\"facial droop\",\"slurred speech\",\"arm weakness\"],seizure:[\"seizure\",\"convulsion\",\"fits\",\"fitting\"],severe_trauma:[\"severe trauma\",\"major injury\",\"major trauma\",\"severe injury\"],uncontrolled_bleeding:[\"uncontrolled bleeding\",\"heavy bleeding\",\"massive bleeding\",\"bleeding won't stop\"],loss_of_consciousness:[\"unconscious\",\"loss of consciousness\",\"passed out\",\"fainted\",\"unresponsive\"],severe_allergic_reaction:[\"anaphylaxis\",\"severe allergic\",\"allergic reaction\",\"swelling throat\"],persistent_fever:[\"persistent fever\",\"high fever\",\"fever\",\"temperature high\"],vomiting:[\"vomiting\",\"throwing up\",\"nausea and vomiting\",\"puking\"],moderate_abdominal_pain:[\"abdominal pain\",\"stomach pain\",\"belly pain\",\"stomach ache\"],persistent_cough:[\"persistent cough\",\"chronic cough\",\"coughing a lot\",\"keeps coughing\"],moderate_breathlessness:[\"breathlessness\",\"shortness of breath\",\"difficulty breathing\",\"breathless\"],severe_headache:[\"severe headache\",\"intense headache\",\"worst headache\",\"splitting headache\"],dizziness:[\"dizziness\",\"dizzy\",\"lightheaded\",\"light headed\",\"vertigo\"],dehydration:[\"dehydration\",\"dehydrated\",\"very thirsty\",\"dry mouth\"],palpitations:[\"palpitations\",\"heart racing\",\"heart pounding\",\"rapid heartbeat\"],migraine:[\"migraine\"],mild_headache:[\"mild headache\",\"headache\",\"slight headache\",\"head hurts\"],sore_throat:[\"sore throat\",\"throat pain\",\"throat hurts\"],runny_nose:[\"runny nose\",\"nasal congestion\",\"stuffy nose\",\"blocked nose\"],mild_cough:[\"mild cough\",\"cough\",\"slight cough\",\"little cough\"],fatigue:[\"fatigue\",\"tired\",\"exhausted\",\"weakness\",\"weak\",\"lethargic\"],body_ache:[\"body ache\",\"body pain\",\"muscle pain\",\"aching all over\"],mild_abdominal_pain:[\"mild abdominal pain\",\"mild stomach pain\",\"slight belly pain\"],skin_rash:[\"skin rash\",\"rash\",\"itchy skin\",\"hives\",\"redness\"],mild_back_pain:[\"mild back pain\",\"back pain\",\"backache\",\"back hurts\"],mild_joint_pain:[\"mild joint pain\",\"joint pain\",\"joint ache\",\"knee pain\",\"elbow pain\"]};function matchSymptomsFromText(text){const lower=text.toLowerCase();const matched={};for(const[symptomKey,keywords]of Object.entries(SYMPTOM_KEYWORDS)){for(const kw of keywords){if(lower.includes(kw)){matched[symptomKey]=true;break;}}}return matched;}const INITIAL_SYMPTOMS={chest_pain:false,severe_breathlessness:false,sudden_confusion:false,stroke_symptoms:false,seizure:false,severe_trauma:false,uncontrolled_bleeding:false,loss_of_consciousness:false,severe_allergic_reaction:false,persistent_fever:false,vomiting:false,moderate_abdominal_pain:false,persistent_cough:false,moderate_breathlessness:false,severe_headache:false,dizziness:false,dehydration:false,palpitations:false,migraine:false,mild_headache:false,sore_throat:false,runny_nose:false,mild_cough:false,fatigue:false,body_ache:false,mild_abdominal_pain:false,skin_rash:false,mild_back_pain:false,mild_joint_pain:false};function Inpatients(){const[data,setData]=useState([]);const[nurseName,setNurseName]=useState(\"\");const[loading,setLoading]=useState(true);const navigate=useNavigate();// Flow step: \"ask_pdf\" | \"pdf_upload\" | \"pdf_patient_confirm\" | \"patient_select\" | \"triage_form\" | \"done\"\nconst[step,setStep]=useState(\"ask_pdf\");// PDF states\nconst[pdfFile,setPdfFile]=useState(null);const[pdfExtracting,setPdfExtracting]=useState(false);const[pdfSuggestedName,setPdfSuggestedName]=useState(\"\");const[pdfMatchedSymptoms,setPdfMatchedSymptoms]=useState({});// Patient states\nconst[patientType,setPatientType]=useState(\"existing\");const[searchQuery,setSearchQuery]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[selectedPatient,setSelectedPatient]=useState(null);const[newPatient,setNewPatient]=useState(_objectSpread({},EMPTY_PATIENT));const[saving,setSaving]=useState(false);// Vitals\nconst[vitals,setVitals]=useState({systolic_bp:\"\",heart_rate:\"\",temperature:\"\",oxygen:\"\"});// Symptoms\nconst[symptoms,setSymptoms]=useState(_objectSpread({},INITIAL_SYMPTOMS));// Voice states\nconst[isListening,setIsListening]=useState(false);const[mediaRecorder,setMediaRecorder]=useState(null);const[translating,setTranslating]=useState(false);const[voiceTranscript,setVoiceTranscript]=useState(\"\");// Submit states\nconst[submitting,setSubmitting]=useState(false);const[submitResult,setSubmitResult]=useState(null);// Error state (replaces alert())\nconst[errorMsg,setErrorMsg]=useState(\"\");useEffect(()=>{fetch(\"http://localhost:8000/api/user-role/\",{credentials:\"include\"}).then(res=>{if(!res.ok){navigate(\"/\");return null;}return res.json();}).then(roleData=>{if(!roleData)return;if(roleData.role!==\"nurse\"){navigate(\"/\");return;}setNurseName(roleData.name||\"\");});},[navigate]);useEffect(()=>{fetch(\"http://localhost:8000/api/nurse-dashboard/\",{credentials:\"include\"}).then(res=>res.json()).then(result=>{if(Array.isArray(result)){const inpatients=result.filter(item=>{const risk=(item.predicted_risk||\"\").toLowerCase();return risk===\"low\"||risk===\"moderate\"||risk===\"medium\";});setData(inpatients);}setLoading(false);}).catch(()=>setLoading(false));},[]);const handleLogout=async()=>{const csrfToken=getCookie(\"csrftoken\");await fetch(\"http://localhost:8000/api/logout/\",{method:\"POST\",credentials:\"include\",headers:{\"X-CSRFToken\":csrfToken}});navigate(\"/\");};// ---------- PDF Upload & Analyze ----------\nconst handlePdfUpload=async()=>{if(!pdfFile)return;setPdfExtracting(true);const formData=new FormData();formData.append(\"file\",pdfFile);try{const res=await fetch(\"http://localhost:8000/api/inpatient-analyze/\",{method:\"POST\",credentials:\"include\",body:formData});const result=await res.json();if(result.error){setErrorMsg(result.error);setPdfExtracting(false);return;}// Store matched symptoms (apply after patient selection)\nif(result.matched_symptoms){setPdfMatchedSymptoms(result.matched_symptoms);}// Auto-search patient name\nif(result.patient_name){setPdfSuggestedName(result.patient_name);}setStep(\"pdf_patient_confirm\");}catch(_unused){setErrorMsg(\"Error uploading PDF.\");}setPdfExtracting(false);};// ---------- Patient Search ----------\nuseEffect(()=>{// Works for both patient_select (existing tab) and pdf_patient_confirm (manual override search)\nconst isPatientSelect=step===\"patient_select\"&&patientType===\"existing\";const isPdfConfirmSearch=step===\"pdf_patient_confirm\"&&searchQuery.trim().length>=2;if(!isPatientSelect&&!isPdfConfirmSearch){// Don't clear results on pdf_patient_confirm if no manual search yet (keep suggested results)\nif(step!==\"pdf_patient_confirm\")setSearchResults([]);return;}if(searchQuery.trim().length<2){if(step!==\"pdf_patient_confirm\")setSearchResults([]);return;}const timer=setTimeout(()=>{fetch(\"http://localhost:8000/api/patient/search/?q=\".concat(encodeURIComponent(searchQuery)),{credentials:\"include\"}).then(res=>res.json()).then(d=>{if(Array.isArray(d))setSearchResults(d);}).catch(()=>{});},300);return()=>clearTimeout(timer);},[searchQuery,patientType,step]);// Auto-search when coming from PDF with suggested name\nuseEffect(()=>{if(step===\"pdf_patient_confirm\"&&pdfSuggestedName){fetch(\"http://localhost:8000/api/patient/search/?q=\".concat(encodeURIComponent(pdfSuggestedName)),{credentials:\"include\"}).then(res=>res.json()).then(d=>{if(Array.isArray(d))setSearchResults(d);}).catch(()=>{});}},[step,pdfSuggestedName]);const selectPatient=patient=>{setSelectedPatient(patient);setSearchQuery(\"\");setSearchResults([]);// Apply stored PDF symptoms now that patient is confirmed\nif(Object.keys(pdfMatchedSymptoms).length>0){setSymptoms(prev=>_objectSpread(_objectSpread({},prev),pdfMatchedSymptoms));}setStep(\"triage_form\");};// ---------- New Patient ----------\nconst handleNewPatientChange=(field,value)=>{setNewPatient(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleCreatePatient=async()=>{if(!newPatient.full_name.trim()||!newPatient.age||!newPatient.gender){setErrorMsg(\"Name, age, and gender are required.\");return;}setSaving(true);setErrorMsg(\"\");try{const csrfToken=getCookie(\"csrftoken\");const res=await fetch(\"http://localhost:8000/api/patient/create/\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrfToken},body:JSON.stringify(newPatient)});const result=await res.json();if(res.ok){setSelectedPatient(_objectSpread(_objectSpread({},newPatient),{},{id:result.id}));setNewPatient(_objectSpread({},EMPTY_PATIENT));// Apply stored PDF symptoms\nif(Object.keys(pdfMatchedSymptoms).length>0){setSymptoms(prev=>_objectSpread(_objectSpread({},prev),pdfMatchedSymptoms));}setStep(\"triage_form\");}else{setErrorMsg(result.error||\"Failed to create patient.\");}}catch(_unused2){setErrorMsg(\"Error connecting to server.\");}setSaving(false);};// ---------- Voice (auto-tick symptoms) ----------\nconst startListening=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const recorder=new MediaRecorder(stream);setMediaRecorder(recorder);const chunks=[];recorder.ondataavailable=e=>{if(e.data.size>0)chunks.push(e.data);};recorder.onstop=async()=>{const audioBlob=new Blob(chunks,{type:\"audio/webm\"});const formData=new FormData();formData.append(\"audio\",audioBlob,\"recording.webm\");setTranslating(true);try{const response=await fetch(\"http://localhost:8000/api/whisper/\",{method:\"POST\",credentials:\"include\",body:formData});const d=await response.json();if(d.translated_text){setVoiceTranscript(d.translated_text);const matched=matchSymptomsFromText(d.translated_text);setSymptoms(prev=>_objectSpread(_objectSpread({},prev),matched));}else{setErrorMsg(d.error||\"Transcription failed.\");}}catch(_unused3){setErrorMsg(\"Error sending audio to server.\");}setTranslating(false);};recorder.start();setIsListening(true);}catch(_unused4){setErrorMsg(\"Microphone access denied.\");}};const stopListening=()=>{if(mediaRecorder){mediaRecorder.stop();setIsListening(false);}};// ---------- Submit Triage Request ----------\nconst handleSubmit=async()=>{if(!selectedPatient)return;if(!vitals.systolic_bp||!vitals.heart_rate||!vitals.temperature||!vitals.oxygen){setErrorMsg(\"All vitals (BP, Heart Rate, Temperature, O2) are required.\");return;}setSubmitting(true);setSubmitResult(null);setErrorMsg(\"\");try{const csrfToken=getCookie(\"csrftoken\");const res=await fetch(\"http://localhost:8000/api/triage-request/create/\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":csrfToken},body:JSON.stringify(_objectSpread(_objectSpread({patient_id:selectedPatient.id},vitals),symptoms))});const result=await res.json();if(res.ok){setSubmitResult(result);setStep(\"done\");}else{setErrorMsg(result.error||\"Failed to create triage request.\");}}catch(_unused5){setErrorMsg(\"Error connecting to server.\");}setSubmitting(false);};const resetAll=()=>{setStep(\"ask_pdf\");setPdfFile(null);setPdfSuggestedName(\"\");setPdfMatchedSymptoms({});setSelectedPatient(null);setSearchQuery(\"\");setSearchResults([]);setPatientType(\"existing\");setNewPatient(_objectSpread({},EMPTY_PATIENT));setVoiceTranscript(\"\");setSubmitResult(null);setVitals({systolic_bp:\"\",heart_rate:\"\",temperature:\"\",oxygen:\"\"});setSymptoms(_objectSpread({},INITIAL_SYMPTOMS));setErrorMsg(\"\");};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"nurse-loading\",children:\"Loading...\"});// ---------- Render: New Patient Form ----------\nconst renderNewPatientForm=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"new-patient-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPatient.full_name,onChange:e=>handleNewPatientChange(\"full_name\",e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newPatient.age,onChange:e=>handleNewPatientChange(\"age\",e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender *\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPatient.gender,onChange:e=>handleNewPatientChange(\"gender\",e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Male\",children:\"Male\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Other\",children:\"Other\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Blood Group\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPatient.blood_group,onChange:e=>handleNewPatientChange(\"blood_group\",e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),[\"A+\",\"A-\",\"B+\",\"B-\",\"O+\",\"O-\",\"AB+\",\"AB-\"].map(bg=>/*#__PURE__*/_jsx(\"option\",{value:bg,children:bg},bg))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Allergies\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPatient.allergies,onChange:e=>handleNewPatientChange(\"allergies\",e.target.value),placeholder:\"e.g. Penicillin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Past Surgeries\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newPatient.past_surgeries,onChange:e=>handleNewPatientChange(\"past_surgeries\",e.target.value),placeholder:\"e.g. Appendectomy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"medical-history\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"history-heading\",children:\"Medical History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:[[\"diabetes\",\"Diabetes\"],[\"hypertension\",\"Hypertension\"],[\"heart_disease\",\"Heart Disease\"],[\"asthma\",\"Asthma\"],[\"chronic_kidney_disease\",\"Chronic Kidney Disease\"],[\"previous_stroke\",\"Previous Stroke\"],[\"smoker\",\"Smoker\"],[\"obese\",\"Obese\"],[\"previous_heart_attack\",\"Previous Heart Attack\"],[\"previous_hospitalization\",\"Previous Hospitalization\"]].map(_ref=>{let[field,label]=_ref;return/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newPatient[field],onChange:e=>handleNewPatientChange(field,e.target.checked)}),label]},field);})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-submit\",onClick:handleCreatePatient,disabled:saving,children:saving?\"Saving...\":\"Register Patient\"})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"nurse-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"nurse-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nurse-header-left\",onClick:()=>navigate(\"/nurse\"),style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 48 48\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"18\",y:\"4\",width:\"12\",height:\"30\",rx:\"3\",fill:\"white\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"6\",y:\"12\",width:\"36\",height:\"12\",rx:\"3\",fill:\"white\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"36\",cy:\"38\",rx:\"6\",ry:\"3\",fill:\"none\",stroke:\"white\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"36\",cy:\"42\",rx:\"6\",ry:\"3\",fill:\"none\",stroke:\"white\",strokeWidth:\"1.5\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Apex Health\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nurse-header-right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"nurse-name\",children:[\"Nurse: \",/*#__PURE__*/_jsx(\"strong\",{children:nurseName})]}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"nurse-main\",children:[errorMsg&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:16,padding:\"12px 16px\",background:\"rgba(239, 68, 68, 0.08)\",border:\"1px solid rgba(239, 68, 68, 0.3)\",borderRadius:8,color:\"#f87171\",fontSize:14,display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{children:errorMsg}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setErrorMsg(\"\"),style:{background:\"none\",border:\"none\",color:\"#f87171\",cursor:\"pointer\",fontSize:18,padding:\"0 4px\"},children:\"x\"})]}),step===\"ask_pdf\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Do you have a medical report (PDF)?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn active-green\",onClick:()=>setStep(\"pdf_upload\"),children:\"Yes, Upload PDF\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn\",onClick:()=>setStep(\"patient_select\"),children:\"No, Continue Manually\"})]})]}),step===\"pdf_upload\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Upload Medical Report\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"assist-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"assist-controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".pdf\",className:\"search-input\",style:{maxWidth:300},onChange:e=>setPdfFile(e.target.files[0]||null)}),/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-submit\",style:{marginTop:0},onClick:handlePdfUpload,disabled:!pdfFile||pdfExtracting,children:pdfExtracting?\"Analyzing...\":\"Upload & Analyze\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-clear\",style:{marginTop:12},onClick:()=>{setPdfFile(null);setStep(\"patient_select\");},children:\"Skip, Continue Manually\"})]})]}),step===\"pdf_patient_confirm\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"PDF Analyzed\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auto-assign-info\",style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"span\",{className:\"confirm-label\",children:\"Symptoms detected:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"confirm-dept-name\",children:Object.keys(pdfMatchedSymptoms).length>0?\"\".concat(Object.keys(pdfMatchedSymptoms).length,\" symptom\").concat(Object.keys(pdfMatchedSymptoms).length>1?\"s\":\"\",\" found\"):\"None detected\"}),Object.keys(pdfMatchedSymptoms).length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"confirm-confidence\",children:Object.keys(pdfMatchedSymptoms).map(k=>k.replace(/_/g,\" \")).join(\", \")})]}),pdfSuggestedName?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auto-assign-info\",style:{marginBottom:16},children:[/*#__PURE__*/_jsx(\"span\",{className:\"confirm-label\",children:\"Patient from report:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"confirm-dept-name\",children:pdfSuggestedName})]}),searchResults.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{color:\"#d1d5db\",fontSize:14,marginBottom:8},children:\"Is this the right patient? Select to confirm:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:searchResults.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-result-item\",onClick:()=>selectPatient(p),children:[/*#__PURE__*/_jsx(\"strong\",{children:p.full_name}),/*#__PURE__*/_jsxs(\"span\",{children:[p.age,\" yrs \\xB7 \",p.gender]}),p.blood_group&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \\xB7 \",p.blood_group]})]},p.id))})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"no-results\",children:[\"No matching patients found for \\\"\",pdfSuggestedName,\"\\\".\"]})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:\"#9ca3af\",fontSize:14,marginBottom:8},children:\"Could not detect patient name from report. Search or register below.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"p\",{style:{color:\"#9ca3af\",fontSize:13,marginBottom:8},children:\"Search for a different patient:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by patient name...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"search-input\"}),searchQuery.trim().length>=2&&searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:searchResults.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-result-item\",onClick:()=>selectPatient(p),children:[/*#__PURE__*/_jsx(\"strong\",{children:p.full_name}),/*#__PURE__*/_jsxs(\"span\",{children:[p.age,\" yrs \\xB7 \",p.gender]}),p.blood_group&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \\xB7 \",p.blood_group]})]},p.id))}),searchQuery.trim().length>=2&&searchResults.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results\",children:\"No patients found.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"patient-toggle\",style:{marginTop:16},children:/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn\",onClick:()=>{setStep(\"patient_select\");setPatientType(\"new\");},children:\"Register New Patient\"})})]}),step===\"patient_select\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",children:\"Patient\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-toggle\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn \".concat(patientType===\"existing\"?\"active\":\"\"),onClick:()=>{setPatientType(\"existing\");setNewPatient(_objectSpread({},EMPTY_PATIENT));},children:\"Existing Patient\"}),/*#__PURE__*/_jsx(\"button\",{className:\"toggle-btn \".concat(patientType===\"new\"?\"active\":\"\"),onClick:()=>{setPatientType(\"new\");setSearchQuery(\"\");setSearchResults([]);},children:\"New Patient\"})]}),patientType===\"existing\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"patient-search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by patient name...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),className:\"search-input\"}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:searchResults.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-result-item\",onClick:()=>selectPatient(p),children:[/*#__PURE__*/_jsx(\"strong\",{children:p.full_name}),/*#__PURE__*/_jsxs(\"span\",{children:[p.age,\" yrs \\xB7 \",p.gender]}),p.blood_group&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \\xB7 \",p.blood_group]})]},p.id))}),searchQuery.trim().length>=2&&searchResults.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results\",children:\"No patients found.\"})]}),patientType===\"new\"&&renderNewPatientForm()]}),step===\"triage_form\"&&selectedPatient&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selected-patient\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selected-patient-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:selectedPatient.full_name}),/*#__PURE__*/_jsxs(\"span\",{children:[selectedPatient.age,\" yrs \\xB7 \",selectedPatient.gender]}),selectedPatient.blood_group&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \\xB7 \",selectedPatient.blood_group]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-clear\",onClick:resetAll,children:\"Change Patient\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",style:{color:\"#818cf8\",marginTop:24},children:\"Triage Assessment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"assist-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Voice Auto-fill\"}),/*#__PURE__*/_jsx(\"p\",{className:\"assist-hint\",children:\"Record voice to auto-tick symptoms. Review and adjust before submitting.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"assist-controls\",children:isListening?/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-stop\",onClick:stopListening,children:\"Stop Recording\"}):/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-start\",onClick:startListening,children:\"Record Voice\"})}),isListening&&/*#__PURE__*/_jsx(\"div\",{className:\"voice-indicator\",children:\"Listening...\"}),translating&&/*#__PURE__*/_jsxs(\"div\",{className:\"voice-translating\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"translating-spinner\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Translating audio...\"})]}),voiceTranscript&&/*#__PURE__*/_jsxs(\"div\",{className:\"voice-transcript\",style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transcribed Text (auto-ticked matching symptoms):\"}),/*#__PURE__*/_jsx(\"textarea\",{value:voiceTranscript,readOnly:true,rows:3})]}),Object.keys(pdfMatchedSymptoms).length>0&&/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#34d399\",fontSize:13,marginTop:8},children:[\"PDF auto-ticked \",Object.keys(pdfMatchedSymptoms).length,\" \",\"symptom\",Object.keys(pdfMatchedSymptoms).length>1?\"s\":\"\",\" \",\"below.\"]})]}),/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#e5e7eb\",marginBottom:12,marginTop:20},children:\"Vitals\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"vitals-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Systolic BP *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g. 120\",value:vitals.systolic_bp,onChange:e=>setVitals(v=>_objectSpread(_objectSpread({},v),{},{systolic_bp:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Heart Rate *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g. 80\",value:vitals.heart_rate,onChange:e=>setVitals(v=>_objectSpread(_objectSpread({},v),{},{heart_rate:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Temperature (\\xB0F) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.1\",placeholder:\"e.g. 98.6\",value:vitals.temperature,onChange:e=>setVitals(v=>_objectSpread(_objectSpread({},v),{},{temperature:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Oxygen (%) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"e.g. 98\",value:vitals.oxygen,onChange:e=>setVitals(v=>_objectSpread(_objectSpread({},v),{},{oxygen:e.target.value}))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"symptoms-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Critical Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:[[\"chest_pain\",\"Chest Pain\"],[\"severe_breathlessness\",\"Severe Breathlessness\"],[\"sudden_confusion\",\"Sudden Confusion\"],[\"stroke_symptoms\",\"Stroke Symptoms\"],[\"seizure\",\"Seizure\"],[\"severe_trauma\",\"Severe Trauma\"],[\"uncontrolled_bleeding\",\"Uncontrolled Bleeding\"],[\"loss_of_consciousness\",\"Loss of Consciousness\"],[\"severe_allergic_reaction\",\"Severe Allergic Reaction\"]].map(_ref2=>{let[key,label]=_ref2;return/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label \".concat(symptoms[key]?\"checkbox-matched\":\"\"),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:symptoms[key],onChange:e=>setSymptoms(s=>_objectSpread(_objectSpread({},s),{},{[key]:e.target.checked}))}),label]},key);})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Moderate Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:[[\"persistent_fever\",\"Persistent Fever\"],[\"vomiting\",\"Vomiting\"],[\"moderate_abdominal_pain\",\"Moderate Abdominal Pain\"],[\"persistent_cough\",\"Persistent Cough\"],[\"moderate_breathlessness\",\"Moderate Breathlessness\"],[\"severe_headache\",\"Severe Headache\"],[\"dizziness\",\"Dizziness\"],[\"dehydration\",\"Dehydration\"],[\"palpitations\",\"Palpitations\"],[\"migraine\",\"Migraine\"]].map(_ref3=>{let[key,label]=_ref3;return/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label \".concat(symptoms[key]?\"checkbox-matched\":\"\"),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:symptoms[key],onChange:e=>setSymptoms(s=>_objectSpread(_objectSpread({},s),{},{[key]:e.target.checked}))}),label]},key);})}),/*#__PURE__*/_jsx(\"h4\",{children:\"Mild Symptoms\"}),/*#__PURE__*/_jsx(\"div\",{className:\"checkbox-grid\",children:[[\"mild_headache\",\"Mild Headache\"],[\"sore_throat\",\"Sore Throat\"],[\"runny_nose\",\"Runny Nose\"],[\"mild_cough\",\"Mild Cough\"],[\"fatigue\",\"Fatigue\"],[\"body_ache\",\"Body Ache\"],[\"mild_abdominal_pain\",\"Mild Abdominal Pain\"],[\"skin_rash\",\"Skin Rash\"],[\"mild_back_pain\",\"Mild Back Pain\"],[\"mild_joint_pain\",\"Mild Joint Pain\"]].map(_ref4=>{let[key,label]=_ref4;return/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label \".concat(symptoms[key]?\"checkbox-matched\":\"\"),children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:symptoms[key],onChange:e=>setSymptoms(s=>_objectSpread(_objectSpread({},s),{},{[key]:e.target.checked}))}),label]},key);})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"voice-btn voice-btn-submit\",onClick:handleSubmit,disabled:submitting,children:submitting?\"Submitting...\":\"Submit Triage Request\"})]}),step===\"done\"&&submitResult&&/*#__PURE__*/_jsxs(\"div\",{className:\"confirm-success\",style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Triage Request Created\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Patient:\"}),\" \",submitResult.patient]}),submitResult.recommended_department&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Department:\"}),\" \",submitResult.recommended_department.replace(/_/g,\" \")]}),submitResult.predicted_risk&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Risk Level:\"}),\" \",submitResult.predicted_risk]}),submitResult.assigned_doctor&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Assigned Doctor:\"}),\" Dr.\",\" \",submitResult.assigned_doctor]}),/*#__PURE__*/_jsx(\"button\",{className:\"confirm-btn confirm-btn-accept\",onClick:resetAll,children:\"New Case\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"section-title\",style:{color:\"#818cf8\",marginTop:32},children:\"Inpatient Records\"}),data.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-data\",children:\"No inpatient cases found.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"triage-grid\",children:data.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"triage-card\",style:{borderColor:\"rgba(67, 97, 238, 0.2)\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"triage-card-header\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"patient-name\",children:item.patient_name||\"Patient #\".concat(item.id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"patient-meta\",children:[item.patient_age&&\"\".concat(item.patient_age,\" yrs\"),item.patient_gender&&\" \\xB7 \".concat(item.patient_gender)]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"risk-badge \".concat((item.predicted_risk||\"\").toLowerCase()===\"low\"?\"risk-low\":\"risk-moderate\"),children:item.predicted_risk||\"Pending\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vitals-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"BP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.systolic_bp||\"—\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"HR\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.heart_rate||\"—\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"Temp\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.temperature?\"\".concat(item.temperature,\"\\xB0\"):\"—\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"vital-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"vital-label\",children:\"O2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"vital-value\",children:item.oxygen?\"\".concat(item.oxygen,\"%\"):\"—\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"triage-card-footer\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"department\",children:item.recommended_department||\"Unassigned\"}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:formatDate(item.created_at)})]})]},item.id))})]})]});}export default Inpatients;","map":{"version":3,"names":["useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getCookie","name","cookieValue","document","cookie","cookies","split","trim","startsWith","decodeURIComponent","substring","length","formatDate","dateStr","d","Date","toLocaleDateString","day","month","year","hour","minute","EMPTY_PATIENT","full_name","age","gender","blood_group","allergies","past_surgeries","diabetes","hypertension","heart_disease","asthma","chronic_kidney_disease","previous_stroke","smoker","obese","previous_heart_attack","previous_hospitalization","SYMPTOM_KEYWORDS","chest_pain","severe_breathlessness","sudden_confusion","stroke_symptoms","seizure","severe_trauma","uncontrolled_bleeding","loss_of_consciousness","severe_allergic_reaction","persistent_fever","vomiting","moderate_abdominal_pain","persistent_cough","moderate_breathlessness","severe_headache","dizziness","dehydration","palpitations","migraine","mild_headache","sore_throat","runny_nose","mild_cough","fatigue","body_ache","mild_abdominal_pain","skin_rash","mild_back_pain","mild_joint_pain","matchSymptomsFromText","text","lower","toLowerCase","matched","symptomKey","keywords","Object","entries","kw","includes","INITIAL_SYMPTOMS","Inpatients","data","setData","nurseName","setNurseName","loading","setLoading","navigate","step","setStep","pdfFile","setPdfFile","pdfExtracting","setPdfExtracting","pdfSuggestedName","setPdfSuggestedName","pdfMatchedSymptoms","setPdfMatchedSymptoms","patientType","setPatientType","searchQuery","setSearchQuery","searchResults","setSearchResults","selectedPatient","setSelectedPatient","newPatient","setNewPatient","_objectSpread","saving","setSaving","vitals","setVitals","systolic_bp","heart_rate","temperature","oxygen","symptoms","setSymptoms","isListening","setIsListening","mediaRecorder","setMediaRecorder","translating","setTranslating","voiceTranscript","setVoiceTranscript","submitting","setSubmitting","submitResult","setSubmitResult","errorMsg","setErrorMsg","fetch","credentials","then","res","ok","json","roleData","role","result","Array","isArray","inpatients","filter","item","risk","predicted_risk","catch","handleLogout","csrfToken","method","headers","handlePdfUpload","formData","FormData","append","body","error","matched_symptoms","patient_name","_unused","isPatientSelect","isPdfConfirmSearch","timer","setTimeout","concat","encodeURIComponent","clearTimeout","selectPatient","patient","keys","prev","handleNewPatientChange","field","value","handleCreatePatient","JSON","stringify","id","_unused2","startListening","stream","navigator","mediaDevices","getUserMedia","audio","recorder","MediaRecorder","chunks","ondataavailable","e","size","push","onstop","audioBlob","Blob","type","response","translated_text","_unused3","start","_unused4","stopListening","stop","handleSubmit","patient_id","_unused5","resetAll","className","children","renderNewPatientForm","onChange","target","map","bg","placeholder","_ref","label","checked","onClick","disabled","style","cursor","viewBox","xmlns","x","y","width","height","rx","fill","cx","cy","ry","stroke","strokeWidth","marginBottom","padding","background","border","borderRadius","color","fontSize","display","justifyContent","alignItems","accept","maxWidth","files","marginTop","k","replace","join","p","readOnly","rows","v","_ref2","key","s","_ref3","_ref4","recommended_department","assigned_doctor","borderColor","patient_age","patient_gender","created_at"],"sources":["C:/Users/Praanesh MB/OneDrive/Documents/Kanini-Hackathon-master/frontend/src/pages/Inpatients.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./NurseDashboard.css\";\nimport \"./EmergencyCases.css\";\n\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let cookie of cookies) {\n      cookie = cookie.trim();\n      if (cookie.startsWith(name + \"=\")) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n\nfunction formatDate(dateStr) {\n  if (!dateStr) return \"\";\n  const d = new Date(dateStr);\n  return d.toLocaleDateString(\"en-IN\", {\n    day: \"numeric\",\n    month: \"short\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n}\n\nconst EMPTY_PATIENT = {\n  full_name: \"\",\n  age: \"\",\n  gender: \"\",\n  blood_group: \"\",\n  allergies: \"\",\n  past_surgeries: \"\",\n  diabetes: false,\n  hypertension: false,\n  heart_disease: false,\n  asthma: false,\n  chronic_kidney_disease: false,\n  previous_stroke: false,\n  smoker: false,\n  obese: false,\n  previous_heart_attack: false,\n  previous_hospitalization: false,\n};\n\n// Keyword map: text → symptom checkbox keys\nconst SYMPTOM_KEYWORDS = {\n  chest_pain: [\"chest pain\", \"chest hurts\", \"chest ache\", \"pain in chest\"],\n  severe_breathlessness: [\n    \"severe breathlessness\",\n    \"can't breathe\",\n    \"cannot breathe\",\n    \"extreme difficulty breathing\",\n    \"severe breathing\",\n  ],\n  sudden_confusion: [\n    \"sudden confusion\",\n    \"confused\",\n    \"disoriented\",\n    \"confusion\",\n  ],\n  stroke_symptoms: [\"stroke\", \"facial droop\", \"slurred speech\", \"arm weakness\"],\n  seizure: [\"seizure\", \"convulsion\", \"fits\", \"fitting\"],\n  severe_trauma: [\n    \"severe trauma\",\n    \"major injury\",\n    \"major trauma\",\n    \"severe injury\",\n  ],\n  uncontrolled_bleeding: [\n    \"uncontrolled bleeding\",\n    \"heavy bleeding\",\n    \"massive bleeding\",\n    \"bleeding won't stop\",\n  ],\n  loss_of_consciousness: [\n    \"unconscious\",\n    \"loss of consciousness\",\n    \"passed out\",\n    \"fainted\",\n    \"unresponsive\",\n  ],\n  severe_allergic_reaction: [\n    \"anaphylaxis\",\n    \"severe allergic\",\n    \"allergic reaction\",\n    \"swelling throat\",\n  ],\n  persistent_fever: [\n    \"persistent fever\",\n    \"high fever\",\n    \"fever\",\n    \"temperature high\",\n  ],\n  vomiting: [\"vomiting\", \"throwing up\", \"nausea and vomiting\", \"puking\"],\n  moderate_abdominal_pain: [\n    \"abdominal pain\",\n    \"stomach pain\",\n    \"belly pain\",\n    \"stomach ache\",\n  ],\n  persistent_cough: [\n    \"persistent cough\",\n    \"chronic cough\",\n    \"coughing a lot\",\n    \"keeps coughing\",\n  ],\n  moderate_breathlessness: [\n    \"breathlessness\",\n    \"shortness of breath\",\n    \"difficulty breathing\",\n    \"breathless\",\n  ],\n  severe_headache: [\n    \"severe headache\",\n    \"intense headache\",\n    \"worst headache\",\n    \"splitting headache\",\n  ],\n  dizziness: [\"dizziness\", \"dizzy\", \"lightheaded\", \"light headed\", \"vertigo\"],\n  dehydration: [\"dehydration\", \"dehydrated\", \"very thirsty\", \"dry mouth\"],\n  palpitations: [\n    \"palpitations\",\n    \"heart racing\",\n    \"heart pounding\",\n    \"rapid heartbeat\",\n  ],\n  migraine: [\"migraine\"],\n  mild_headache: [\"mild headache\", \"headache\", \"slight headache\", \"head hurts\"],\n  sore_throat: [\"sore throat\", \"throat pain\", \"throat hurts\"],\n  runny_nose: [\"runny nose\", \"nasal congestion\", \"stuffy nose\", \"blocked nose\"],\n  mild_cough: [\"mild cough\", \"cough\", \"slight cough\", \"little cough\"],\n  fatigue: [\"fatigue\", \"tired\", \"exhausted\", \"weakness\", \"weak\", \"lethargic\"],\n  body_ache: [\"body ache\", \"body pain\", \"muscle pain\", \"aching all over\"],\n  mild_abdominal_pain: [\n    \"mild abdominal pain\",\n    \"mild stomach pain\",\n    \"slight belly pain\",\n  ],\n  skin_rash: [\"skin rash\", \"rash\", \"itchy skin\", \"hives\", \"redness\"],\n  mild_back_pain: [\"mild back pain\", \"back pain\", \"backache\", \"back hurts\"],\n  mild_joint_pain: [\n    \"mild joint pain\",\n    \"joint pain\",\n    \"joint ache\",\n    \"knee pain\",\n    \"elbow pain\",\n  ],\n};\n\nfunction matchSymptomsFromText(text) {\n  const lower = text.toLowerCase();\n  const matched = {};\n  for (const [symptomKey, keywords] of Object.entries(SYMPTOM_KEYWORDS)) {\n    for (const kw of keywords) {\n      if (lower.includes(kw)) {\n        matched[symptomKey] = true;\n        break;\n      }\n    }\n  }\n  return matched;\n}\n\nconst INITIAL_SYMPTOMS = {\n  chest_pain: false,\n  severe_breathlessness: false,\n  sudden_confusion: false,\n  stroke_symptoms: false,\n  seizure: false,\n  severe_trauma: false,\n  uncontrolled_bleeding: false,\n  loss_of_consciousness: false,\n  severe_allergic_reaction: false,\n  persistent_fever: false,\n  vomiting: false,\n  moderate_abdominal_pain: false,\n  persistent_cough: false,\n  moderate_breathlessness: false,\n  severe_headache: false,\n  dizziness: false,\n  dehydration: false,\n  palpitations: false,\n  migraine: false,\n  mild_headache: false,\n  sore_throat: false,\n  runny_nose: false,\n  mild_cough: false,\n  fatigue: false,\n  body_ache: false,\n  mild_abdominal_pain: false,\n  skin_rash: false,\n  mild_back_pain: false,\n  mild_joint_pain: false,\n};\n\nfunction Inpatients() {\n  const [data, setData] = useState([]);\n  const [nurseName, setNurseName] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Flow step: \"ask_pdf\" | \"pdf_upload\" | \"pdf_patient_confirm\" | \"patient_select\" | \"triage_form\" | \"done\"\n  const [step, setStep] = useState(\"ask_pdf\");\n\n  // PDF states\n  const [pdfFile, setPdfFile] = useState(null);\n  const [pdfExtracting, setPdfExtracting] = useState(false);\n  const [pdfSuggestedName, setPdfSuggestedName] = useState(\"\");\n  const [pdfMatchedSymptoms, setPdfMatchedSymptoms] = useState({});\n\n  // Patient states\n  const [patientType, setPatientType] = useState(\"existing\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [selectedPatient, setSelectedPatient] = useState(null);\n  const [newPatient, setNewPatient] = useState({ ...EMPTY_PATIENT });\n  const [saving, setSaving] = useState(false);\n\n  // Vitals\n  const [vitals, setVitals] = useState({\n    systolic_bp: \"\",\n    heart_rate: \"\",\n    temperature: \"\",\n    oxygen: \"\",\n  });\n\n  // Symptoms\n  const [symptoms, setSymptoms] = useState({ ...INITIAL_SYMPTOMS });\n\n  // Voice states\n  const [isListening, setIsListening] = useState(false);\n  const [mediaRecorder, setMediaRecorder] = useState(null);\n  const [translating, setTranslating] = useState(false);\n  const [voiceTranscript, setVoiceTranscript] = useState(\"\");\n\n  // Submit states\n  const [submitting, setSubmitting] = useState(false);\n  const [submitResult, setSubmitResult] = useState(null);\n\n  // Error state (replaces alert())\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/user-role/\", { credentials: \"include\" })\n      .then((res) => {\n        if (!res.ok) {\n          navigate(\"/\");\n          return null;\n        }\n        return res.json();\n      })\n      .then((roleData) => {\n        if (!roleData) return;\n        if (roleData.role !== \"nurse\") {\n          navigate(\"/\");\n          return;\n        }\n        setNurseName(roleData.name || \"\");\n      });\n  }, [navigate]);\n\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/nurse-dashboard/\", {\n      credentials: \"include\",\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        if (Array.isArray(result)) {\n          const inpatients = result.filter((item) => {\n            const risk = (item.predicted_risk || \"\").toLowerCase();\n            return risk === \"low\" || risk === \"moderate\" || risk === \"medium\";\n          });\n          setData(inpatients);\n        }\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, []);\n\n  const handleLogout = async () => {\n    const csrfToken = getCookie(\"csrftoken\");\n    await fetch(\"http://localhost:8000/api/logout/\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: { \"X-CSRFToken\": csrfToken },\n    });\n    navigate(\"/\");\n  };\n\n  // ---------- PDF Upload & Analyze ----------\n  const handlePdfUpload = async () => {\n    if (!pdfFile) return;\n    setPdfExtracting(true);\n    const formData = new FormData();\n    formData.append(\"file\", pdfFile);\n\n    try {\n      const res = await fetch(\"http://localhost:8000/api/inpatient-analyze/\", {\n        method: \"POST\",\n        credentials: \"include\",\n        body: formData,\n      });\n      const result = await res.json();\n\n      if (result.error) {\n        setErrorMsg(result.error);\n        setPdfExtracting(false);\n        return;\n      }\n\n      // Store matched symptoms (apply after patient selection)\n      if (result.matched_symptoms) {\n        setPdfMatchedSymptoms(result.matched_symptoms);\n      }\n\n      // Auto-search patient name\n      if (result.patient_name) {\n        setPdfSuggestedName(result.patient_name);\n      }\n\n      setStep(\"pdf_patient_confirm\");\n    } catch {\n      setErrorMsg(\"Error uploading PDF.\");\n    }\n    setPdfExtracting(false);\n  };\n\n  // ---------- Patient Search ----------\n  useEffect(() => {\n    // Works for both patient_select (existing tab) and pdf_patient_confirm (manual override search)\n    const isPatientSelect =\n      step === \"patient_select\" && patientType === \"existing\";\n    const isPdfConfirmSearch =\n      step === \"pdf_patient_confirm\" && searchQuery.trim().length >= 2;\n\n    if (!isPatientSelect && !isPdfConfirmSearch) {\n      // Don't clear results on pdf_patient_confirm if no manual search yet (keep suggested results)\n      if (step !== \"pdf_patient_confirm\") setSearchResults([]);\n      return;\n    }\n\n    if (searchQuery.trim().length < 2) {\n      if (step !== \"pdf_patient_confirm\") setSearchResults([]);\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      fetch(\n        `http://localhost:8000/api/patient/search/?q=${encodeURIComponent(searchQuery)}`,\n        { credentials: \"include\" },\n      )\n        .then((res) => res.json())\n        .then((d) => {\n          if (Array.isArray(d)) setSearchResults(d);\n        })\n        .catch(() => {});\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchQuery, patientType, step]);\n\n  // Auto-search when coming from PDF with suggested name\n  useEffect(() => {\n    if (step === \"pdf_patient_confirm\" && pdfSuggestedName) {\n      fetch(\n        `http://localhost:8000/api/patient/search/?q=${encodeURIComponent(pdfSuggestedName)}`,\n        { credentials: \"include\" },\n      )\n        .then((res) => res.json())\n        .then((d) => {\n          if (Array.isArray(d)) setSearchResults(d);\n        })\n        .catch(() => {});\n    }\n  }, [step, pdfSuggestedName]);\n\n  const selectPatient = (patient) => {\n    setSelectedPatient(patient);\n    setSearchQuery(\"\");\n    setSearchResults([]);\n    // Apply stored PDF symptoms now that patient is confirmed\n    if (Object.keys(pdfMatchedSymptoms).length > 0) {\n      setSymptoms((prev) => ({ ...prev, ...pdfMatchedSymptoms }));\n    }\n    setStep(\"triage_form\");\n  };\n\n  // ---------- New Patient ----------\n  const handleNewPatientChange = (field, value) => {\n    setNewPatient((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleCreatePatient = async () => {\n    if (!newPatient.full_name.trim() || !newPatient.age || !newPatient.gender) {\n      setErrorMsg(\"Name, age, and gender are required.\");\n      return;\n    }\n    setSaving(true);\n    setErrorMsg(\"\");\n    try {\n      const csrfToken = getCookie(\"csrftoken\");\n      const res = await fetch(\"http://localhost:8000/api/patient/create/\", {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"X-CSRFToken\": csrfToken,\n        },\n        body: JSON.stringify(newPatient),\n      });\n      const result = await res.json();\n      if (res.ok) {\n        setSelectedPatient({ ...newPatient, id: result.id });\n        setNewPatient({ ...EMPTY_PATIENT });\n        // Apply stored PDF symptoms\n        if (Object.keys(pdfMatchedSymptoms).length > 0) {\n          setSymptoms((prev) => ({ ...prev, ...pdfMatchedSymptoms }));\n        }\n        setStep(\"triage_form\");\n      } else {\n        setErrorMsg(result.error || \"Failed to create patient.\");\n      }\n    } catch {\n      setErrorMsg(\"Error connecting to server.\");\n    }\n    setSaving(false);\n  };\n\n  // ---------- Voice (auto-tick symptoms) ----------\n  const startListening = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const recorder = new MediaRecorder(stream);\n      setMediaRecorder(recorder);\n      const chunks = [];\n      recorder.ondataavailable = (e) => {\n        if (e.data.size > 0) chunks.push(e.data);\n      };\n      recorder.onstop = async () => {\n        const audioBlob = new Blob(chunks, { type: \"audio/webm\" });\n        const formData = new FormData();\n        formData.append(\"audio\", audioBlob, \"recording.webm\");\n        setTranslating(true);\n        try {\n          const response = await fetch(\"http://localhost:8000/api/whisper/\", {\n            method: \"POST\",\n            credentials: \"include\",\n            body: formData,\n          });\n          const d = await response.json();\n          if (d.translated_text) {\n            setVoiceTranscript(d.translated_text);\n            const matched = matchSymptomsFromText(d.translated_text);\n            setSymptoms((prev) => ({ ...prev, ...matched }));\n          } else {\n            setErrorMsg(d.error || \"Transcription failed.\");\n          }\n        } catch {\n          setErrorMsg(\"Error sending audio to server.\");\n        }\n        setTranslating(false);\n      };\n      recorder.start();\n      setIsListening(true);\n    } catch {\n      setErrorMsg(\"Microphone access denied.\");\n    }\n  };\n\n  const stopListening = () => {\n    if (mediaRecorder) {\n      mediaRecorder.stop();\n      setIsListening(false);\n    }\n  };\n\n  // ---------- Submit Triage Request ----------\n  const handleSubmit = async () => {\n    if (!selectedPatient) return;\n    if (\n      !vitals.systolic_bp ||\n      !vitals.heart_rate ||\n      !vitals.temperature ||\n      !vitals.oxygen\n    ) {\n      setErrorMsg(\"All vitals (BP, Heart Rate, Temperature, O2) are required.\");\n      return;\n    }\n    setSubmitting(true);\n    setSubmitResult(null);\n    setErrorMsg(\"\");\n    try {\n      const csrfToken = getCookie(\"csrftoken\");\n      const res = await fetch(\n        \"http://localhost:8000/api/triage-request/create/\",\n        {\n          method: \"POST\",\n          credentials: \"include\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-CSRFToken\": csrfToken,\n          },\n          body: JSON.stringify({\n            patient_id: selectedPatient.id,\n            ...vitals,\n            ...symptoms,\n          }),\n        },\n      );\n      const result = await res.json();\n      if (res.ok) {\n        setSubmitResult(result);\n        setStep(\"done\");\n      } else {\n        setErrorMsg(result.error || \"Failed to create triage request.\");\n      }\n    } catch {\n      setErrorMsg(\"Error connecting to server.\");\n    }\n    setSubmitting(false);\n  };\n\n  const resetAll = () => {\n    setStep(\"ask_pdf\");\n    setPdfFile(null);\n    setPdfSuggestedName(\"\");\n    setPdfMatchedSymptoms({});\n    setSelectedPatient(null);\n    setSearchQuery(\"\");\n    setSearchResults([]);\n    setPatientType(\"existing\");\n    setNewPatient({ ...EMPTY_PATIENT });\n    setVoiceTranscript(\"\");\n    setSubmitResult(null);\n    setVitals({ systolic_bp: \"\", heart_rate: \"\", temperature: \"\", oxygen: \"\" });\n    setSymptoms({ ...INITIAL_SYMPTOMS });\n    setErrorMsg(\"\");\n  };\n\n  if (loading) return <div className=\"nurse-loading\">Loading...</div>;\n\n  // ---------- Render: New Patient Form ----------\n  const renderNewPatientForm = () => (\n    <div className=\"new-patient-form\">\n      <div className=\"form-row\">\n        <div className=\"form-field\">\n          <label>Full Name *</label>\n          <input\n            type=\"text\"\n            value={newPatient.full_name}\n            onChange={(e) =>\n              handleNewPatientChange(\"full_name\", e.target.value)\n            }\n          />\n        </div>\n        <div className=\"form-field\">\n          <label>Age *</label>\n          <input\n            type=\"number\"\n            value={newPatient.age}\n            onChange={(e) => handleNewPatientChange(\"age\", e.target.value)}\n          />\n        </div>\n        <div className=\"form-field\">\n          <label>Gender *</label>\n          <select\n            value={newPatient.gender}\n            onChange={(e) => handleNewPatientChange(\"gender\", e.target.value)}\n          >\n            <option value=\"\">Select</option>\n            <option value=\"Male\">Male</option>\n            <option value=\"Female\">Female</option>\n            <option value=\"Other\">Other</option>\n          </select>\n        </div>\n      </div>\n      <div className=\"form-row\">\n        <div className=\"form-field\">\n          <label>Blood Group</label>\n          <select\n            value={newPatient.blood_group}\n            onChange={(e) =>\n              handleNewPatientChange(\"blood_group\", e.target.value)\n            }\n          >\n            <option value=\"\">Select</option>\n            {[\"A+\", \"A-\", \"B+\", \"B-\", \"O+\", \"O-\", \"AB+\", \"AB-\"].map((bg) => (\n              <option key={bg} value={bg}>\n                {bg}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-field\">\n          <label>Allergies</label>\n          <input\n            type=\"text\"\n            value={newPatient.allergies}\n            onChange={(e) =>\n              handleNewPatientChange(\"allergies\", e.target.value)\n            }\n            placeholder=\"e.g. Penicillin\"\n          />\n        </div>\n        <div className=\"form-field\">\n          <label>Past Surgeries</label>\n          <input\n            type=\"text\"\n            value={newPatient.past_surgeries}\n            onChange={(e) =>\n              handleNewPatientChange(\"past_surgeries\", e.target.value)\n            }\n            placeholder=\"e.g. Appendectomy\"\n          />\n        </div>\n      </div>\n      <div className=\"medical-history\">\n        <label className=\"history-heading\">Medical History</label>\n        <div className=\"checkbox-grid\">\n          {[\n            [\"diabetes\", \"Diabetes\"],\n            [\"hypertension\", \"Hypertension\"],\n            [\"heart_disease\", \"Heart Disease\"],\n            [\"asthma\", \"Asthma\"],\n            [\"chronic_kidney_disease\", \"Chronic Kidney Disease\"],\n            [\"previous_stroke\", \"Previous Stroke\"],\n            [\"smoker\", \"Smoker\"],\n            [\"obese\", \"Obese\"],\n            [\"previous_heart_attack\", \"Previous Heart Attack\"],\n            [\"previous_hospitalization\", \"Previous Hospitalization\"],\n          ].map(([field, label]) => (\n            <label key={field} className=\"checkbox-label\">\n              <input\n                type=\"checkbox\"\n                checked={newPatient[field]}\n                onChange={(e) =>\n                  handleNewPatientChange(field, e.target.checked)\n                }\n              />\n              {label}\n            </label>\n          ))}\n        </div>\n      </div>\n      <button\n        className=\"voice-btn voice-btn-submit\"\n        onClick={handleCreatePatient}\n        disabled={saving}\n      >\n        {saving ? \"Saving...\" : \"Register Patient\"}\n      </button>\n    </div>\n  );\n\n  return (\n    <div className=\"nurse-page\">\n      <header className=\"nurse-header\">\n        <div\n          className=\"nurse-header-left\"\n          onClick={() => navigate(\"/nurse\")}\n          style={{ cursor: \"pointer\" }}\n        >\n          <svg viewBox=\"0 0 48 48\" xmlns=\"http://www.w3.org/2000/svg\">\n            <rect x=\"18\" y=\"4\" width=\"12\" height=\"30\" rx=\"3\" fill=\"white\" />\n            <rect x=\"6\" y=\"12\" width=\"36\" height=\"12\" rx=\"3\" fill=\"white\" />\n            <ellipse\n              cx=\"36\"\n              cy=\"38\"\n              rx=\"6\"\n              ry=\"3\"\n              fill=\"none\"\n              stroke=\"white\"\n              strokeWidth=\"1.5\"\n            />\n            <ellipse\n              cx=\"36\"\n              cy=\"42\"\n              rx=\"6\"\n              ry=\"3\"\n              fill=\"none\"\n              stroke=\"white\"\n              strokeWidth=\"1.5\"\n            />\n          </svg>\n          <span>Apex Health</span>\n        </div>\n        <div className=\"nurse-header-right\">\n          <span className=\"nurse-name\">\n            Nurse: <strong>{nurseName}</strong>\n          </span>\n          <button className=\"logout-btn\" onClick={handleLogout}>\n            Logout\n          </button>\n        </div>\n      </header>\n\n      <main className=\"nurse-main\">\n        {/* Error Banner */}\n        {errorMsg && (\n          <div style={{\n            marginBottom: 16,\n            padding: \"12px 16px\",\n            background: \"rgba(239, 68, 68, 0.08)\",\n            border: \"1px solid rgba(239, 68, 68, 0.3)\",\n            borderRadius: 8,\n            color: \"#f87171\",\n            fontSize: 14,\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n          }}>\n            <span>{errorMsg}</span>\n            <button\n              onClick={() => setErrorMsg(\"\")}\n              style={{\n                background: \"none\",\n                border: \"none\",\n                color: \"#f87171\",\n                cursor: \"pointer\",\n                fontSize: 18,\n                padding: \"0 4px\",\n              }}\n            >\n              x\n            </button>\n          </div>\n        )}\n\n        {/* ===== Step 1: Ask PDF ===== */}\n        {step === \"ask_pdf\" && (\n          <>\n            <h2 className=\"section-title\">\n              Do you have a medical report (PDF)?\n            </h2>\n            <div className=\"patient-toggle\">\n              <button\n                className=\"toggle-btn active-green\"\n                onClick={() => setStep(\"pdf_upload\")}\n              >\n                Yes, Upload PDF\n              </button>\n              <button\n                className=\"toggle-btn\"\n                onClick={() => setStep(\"patient_select\")}\n              >\n                No, Continue Manually\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* ===== Step 2a: PDF Upload ===== */}\n        {step === \"pdf_upload\" && (\n          <>\n            <h2 className=\"section-title\">Upload Medical Report</h2>\n            <div className=\"assist-section\">\n              <div className=\"assist-controls\">\n                <input\n                  type=\"file\"\n                  accept=\".pdf\"\n                  className=\"search-input\"\n                  style={{ maxWidth: 300 }}\n                  onChange={(e) => setPdfFile(e.target.files[0] || null)}\n                />\n                <button\n                  className=\"voice-btn voice-btn-submit\"\n                  style={{ marginTop: 0 }}\n                  onClick={handlePdfUpload}\n                  disabled={!pdfFile || pdfExtracting}\n                >\n                  {pdfExtracting ? \"Analyzing...\" : \"Upload & Analyze\"}\n                </button>\n              </div>\n              <button\n                className=\"voice-btn voice-btn-clear\"\n                style={{ marginTop: 12 }}\n                onClick={() => {\n                  setPdfFile(null);\n                  setStep(\"patient_select\");\n                }}\n              >\n                Skip, Continue Manually\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* ===== Step 2b: PDF Patient Confirm ===== */}\n        {step === \"pdf_patient_confirm\" && (\n          <>\n            <h2 className=\"section-title\">PDF Analyzed</h2>\n\n            {/* Summary of what was extracted */}\n            <div className=\"auto-assign-info\" style={{ marginBottom: 16 }}>\n              <span className=\"confirm-label\">Symptoms detected:</span>\n              <span className=\"confirm-dept-name\">\n                {Object.keys(pdfMatchedSymptoms).length > 0\n                  ? `${Object.keys(pdfMatchedSymptoms).length} symptom${Object.keys(pdfMatchedSymptoms).length > 1 ? \"s\" : \"\"} found`\n                  : \"None detected\"}\n              </span>\n              {Object.keys(pdfMatchedSymptoms).length > 0 && (\n                <span className=\"confirm-confidence\">\n                  {Object.keys(pdfMatchedSymptoms)\n                    .map((k) => k.replace(/_/g, \" \"))\n                    .join(\", \")}\n                </span>\n              )}\n            </div>\n\n            {/* Patient name from PDF */}\n            {pdfSuggestedName ? (\n              <>\n                <div className=\"auto-assign-info\" style={{ marginBottom: 16 }}>\n                  <span className=\"confirm-label\">Patient from report:</span>\n                  <span className=\"confirm-dept-name\">{pdfSuggestedName}</span>\n                </div>\n\n                {searchResults.length > 0 ? (\n                  <>\n                    <p\n                      style={{\n                        color: \"#d1d5db\",\n                        fontSize: 14,\n                        marginBottom: 8,\n                      }}\n                    >\n                      Is this the right patient? Select to confirm:\n                    </p>\n                    <div className=\"search-results\">\n                      {searchResults.map((p) => (\n                        <div\n                          key={p.id}\n                          className=\"search-result-item\"\n                          onClick={() => selectPatient(p)}\n                        >\n                          <strong>{p.full_name}</strong>\n                          <span>\n                            {p.age} yrs · {p.gender}\n                          </span>\n                          {p.blood_group && <span> · {p.blood_group}</span>}\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  <p className=\"no-results\">\n                    No matching patients found for \"{pdfSuggestedName}\".\n                  </p>\n                )}\n              </>\n            ) : (\n              <p style={{ color: \"#9ca3af\", fontSize: 14, marginBottom: 8 }}>\n                Could not detect patient name from report. Search or register\n                below.\n              </p>\n            )}\n\n            <div style={{ marginTop: 16 }}>\n              <p style={{ color: \"#9ca3af\", fontSize: 13, marginBottom: 8 }}>\n                Search for a different patient:\n              </p>\n              <div className=\"patient-search\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by patient name...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"search-input\"\n                />\n                {searchQuery.trim().length >= 2 && searchResults.length > 0 && (\n                  <div className=\"search-results\">\n                    {searchResults.map((p) => (\n                      <div\n                        key={p.id}\n                        className=\"search-result-item\"\n                        onClick={() => selectPatient(p)}\n                      >\n                        <strong>{p.full_name}</strong>\n                        <span>\n                          {p.age} yrs · {p.gender}\n                        </span>\n                        {p.blood_group && <span> · {p.blood_group}</span>}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                {searchQuery.trim().length >= 2 &&\n                  searchResults.length === 0 && (\n                    <p className=\"no-results\">No patients found.</p>\n                  )}\n              </div>\n            </div>\n\n            <div className=\"patient-toggle\" style={{ marginTop: 16 }}>\n              <button\n                className=\"toggle-btn\"\n                onClick={() => {\n                  setStep(\"patient_select\");\n                  setPatientType(\"new\");\n                }}\n              >\n                Register New Patient\n              </button>\n            </div>\n          </>\n        )}\n\n        {/* ===== Step 3: Patient Selection (manual path) ===== */}\n        {step === \"patient_select\" && (\n          <>\n            <h2 className=\"section-title\">Patient</h2>\n            <div className=\"patient-toggle\">\n              <button\n                className={`toggle-btn ${patientType === \"existing\" ? \"active\" : \"\"}`}\n                onClick={() => {\n                  setPatientType(\"existing\");\n                  setNewPatient({ ...EMPTY_PATIENT });\n                }}\n              >\n                Existing Patient\n              </button>\n              <button\n                className={`toggle-btn ${patientType === \"new\" ? \"active\" : \"\"}`}\n                onClick={() => {\n                  setPatientType(\"new\");\n                  setSearchQuery(\"\");\n                  setSearchResults([]);\n                }}\n              >\n                New Patient\n              </button>\n            </div>\n\n            {patientType === \"existing\" && (\n              <div className=\"patient-search\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Search by patient name...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"search-input\"\n                />\n                {searchResults.length > 0 && (\n                  <div className=\"search-results\">\n                    {searchResults.map((p) => (\n                      <div\n                        key={p.id}\n                        className=\"search-result-item\"\n                        onClick={() => selectPatient(p)}\n                      >\n                        <strong>{p.full_name}</strong>\n                        <span>\n                          {p.age} yrs · {p.gender}\n                        </span>\n                        {p.blood_group && <span> · {p.blood_group}</span>}\n                      </div>\n                    ))}\n                  </div>\n                )}\n                {searchQuery.trim().length >= 2 &&\n                  searchResults.length === 0 && (\n                    <p className=\"no-results\">No patients found.</p>\n                  )}\n              </div>\n            )}\n\n            {patientType === \"new\" && renderNewPatientForm()}\n          </>\n        )}\n\n        {/* ===== Step 4: Triage Form (vitals + symptoms + voice) ===== */}\n        {step === \"triage_form\" && selectedPatient && (\n          <>\n            {/* Selected patient banner */}\n            <div className=\"selected-patient\">\n              <div className=\"selected-patient-info\">\n                <strong>{selectedPatient.full_name}</strong>\n                <span>\n                  {selectedPatient.age} yrs · {selectedPatient.gender}\n                </span>\n                {selectedPatient.blood_group && (\n                  <span> · {selectedPatient.blood_group}</span>\n                )}\n              </div>\n              <button className=\"voice-btn voice-btn-clear\" onClick={resetAll}>\n                Change Patient\n              </button>\n            </div>\n\n            <h2\n              className=\"section-title\"\n              style={{ color: \"#818cf8\", marginTop: 24 }}\n            >\n              Triage Assessment\n            </h2>\n\n            {/* Voice assist */}\n            <div className=\"assist-section\">\n              <h4>Voice Auto-fill</h4>\n              <p className=\"assist-hint\">\n                Record voice to auto-tick symptoms. Review and adjust before\n                submitting.\n              </p>\n              <div className=\"assist-controls\">\n                {isListening ? (\n                  <button\n                    className=\"voice-btn voice-btn-stop\"\n                    onClick={stopListening}\n                  >\n                    Stop Recording\n                  </button>\n                ) : (\n                  <button\n                    className=\"voice-btn voice-btn-start\"\n                    onClick={startListening}\n                  >\n                    Record Voice\n                  </button>\n                )}\n              </div>\n              {isListening && (\n                <div className=\"voice-indicator\">Listening...</div>\n              )}\n              {translating && (\n                <div className=\"voice-translating\">\n                  <div className=\"translating-spinner\"></div>\n                  <span>Translating audio...</span>\n                </div>\n              )}\n              {voiceTranscript && (\n                <div className=\"voice-transcript\" style={{ marginTop: 12 }}>\n                  <label>\n                    Transcribed Text (auto-ticked matching symptoms):\n                  </label>\n                  <textarea value={voiceTranscript} readOnly rows={3} />\n                </div>\n              )}\n              {Object.keys(pdfMatchedSymptoms).length > 0 && (\n                <p style={{ color: \"#34d399\", fontSize: 13, marginTop: 8 }}>\n                  PDF auto-ticked {Object.keys(pdfMatchedSymptoms).length}{\" \"}\n                  symptom{Object.keys(pdfMatchedSymptoms).length > 1 ? \"s\" : \"\"}{\" \"}\n                  below.\n                </p>\n              )}\n            </div>\n\n            {/* Vitals */}\n            <h3 style={{ color: \"#e5e7eb\", marginBottom: 12, marginTop: 20 }}>\n              Vitals\n            </h3>\n            <div className=\"vitals-form\">\n              <div className=\"form-field\">\n                <label>Systolic BP *</label>\n                <input\n                  type=\"number\"\n                  placeholder=\"e.g. 120\"\n                  value={vitals.systolic_bp}\n                  onChange={(e) =>\n                    setVitals((v) => ({ ...v, systolic_bp: e.target.value }))\n                  }\n                />\n              </div>\n              <div className=\"form-field\">\n                <label>Heart Rate *</label>\n                <input\n                  type=\"number\"\n                  placeholder=\"e.g. 80\"\n                  value={vitals.heart_rate}\n                  onChange={(e) =>\n                    setVitals((v) => ({ ...v, heart_rate: e.target.value }))\n                  }\n                />\n              </div>\n              <div className=\"form-field\">\n                <label>Temperature (°F) *</label>\n                <input\n                  type=\"number\"\n                  step=\"0.1\"\n                  placeholder=\"e.g. 98.6\"\n                  value={vitals.temperature}\n                  onChange={(e) =>\n                    setVitals((v) => ({ ...v, temperature: e.target.value }))\n                  }\n                />\n              </div>\n              <div className=\"form-field\">\n                <label>Oxygen (%) *</label>\n                <input\n                  type=\"number\"\n                  placeholder=\"e.g. 98\"\n                  value={vitals.oxygen}\n                  onChange={(e) =>\n                    setVitals((v) => ({ ...v, oxygen: e.target.value }))\n                  }\n                />\n              </div>\n            </div>\n\n            {/* Symptoms */}\n            <div className=\"symptoms-section\">\n              <h4>Critical Symptoms</h4>\n              <div className=\"checkbox-grid\">\n                {[\n                  [\"chest_pain\", \"Chest Pain\"],\n                  [\"severe_breathlessness\", \"Severe Breathlessness\"],\n                  [\"sudden_confusion\", \"Sudden Confusion\"],\n                  [\"stroke_symptoms\", \"Stroke Symptoms\"],\n                  [\"seizure\", \"Seizure\"],\n                  [\"severe_trauma\", \"Severe Trauma\"],\n                  [\"uncontrolled_bleeding\", \"Uncontrolled Bleeding\"],\n                  [\"loss_of_consciousness\", \"Loss of Consciousness\"],\n                  [\"severe_allergic_reaction\", \"Severe Allergic Reaction\"],\n                ].map(([key, label]) => (\n                  <label\n                    key={key}\n                    className={`checkbox-label ${symptoms[key] ? \"checkbox-matched\" : \"\"}`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={symptoms[key]}\n                      onChange={(e) =>\n                        setSymptoms((s) => ({ ...s, [key]: e.target.checked }))\n                      }\n                    />\n                    {label}\n                  </label>\n                ))}\n              </div>\n\n              <h4>Moderate Symptoms</h4>\n              <div className=\"checkbox-grid\">\n                {[\n                  [\"persistent_fever\", \"Persistent Fever\"],\n                  [\"vomiting\", \"Vomiting\"],\n                  [\"moderate_abdominal_pain\", \"Moderate Abdominal Pain\"],\n                  [\"persistent_cough\", \"Persistent Cough\"],\n                  [\"moderate_breathlessness\", \"Moderate Breathlessness\"],\n                  [\"severe_headache\", \"Severe Headache\"],\n                  [\"dizziness\", \"Dizziness\"],\n                  [\"dehydration\", \"Dehydration\"],\n                  [\"palpitations\", \"Palpitations\"],\n                  [\"migraine\", \"Migraine\"],\n                ].map(([key, label]) => (\n                  <label\n                    key={key}\n                    className={`checkbox-label ${symptoms[key] ? \"checkbox-matched\" : \"\"}`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={symptoms[key]}\n                      onChange={(e) =>\n                        setSymptoms((s) => ({ ...s, [key]: e.target.checked }))\n                      }\n                    />\n                    {label}\n                  </label>\n                ))}\n              </div>\n\n              <h4>Mild Symptoms</h4>\n              <div className=\"checkbox-grid\">\n                {[\n                  [\"mild_headache\", \"Mild Headache\"],\n                  [\"sore_throat\", \"Sore Throat\"],\n                  [\"runny_nose\", \"Runny Nose\"],\n                  [\"mild_cough\", \"Mild Cough\"],\n                  [\"fatigue\", \"Fatigue\"],\n                  [\"body_ache\", \"Body Ache\"],\n                  [\"mild_abdominal_pain\", \"Mild Abdominal Pain\"],\n                  [\"skin_rash\", \"Skin Rash\"],\n                  [\"mild_back_pain\", \"Mild Back Pain\"],\n                  [\"mild_joint_pain\", \"Mild Joint Pain\"],\n                ].map(([key, label]) => (\n                  <label\n                    key={key}\n                    className={`checkbox-label ${symptoms[key] ? \"checkbox-matched\" : \"\"}`}\n                  >\n                    <input\n                      type=\"checkbox\"\n                      checked={symptoms[key]}\n                      onChange={(e) =>\n                        setSymptoms((s) => ({ ...s, [key]: e.target.checked }))\n                      }\n                    />\n                    {label}\n                  </label>\n                ))}\n              </div>\n            </div>\n\n            <button\n              className=\"voice-btn voice-btn-submit\"\n              onClick={handleSubmit}\n              disabled={submitting}\n            >\n              {submitting ? \"Submitting...\" : \"Submit Triage Request\"}\n            </button>\n          </>\n        )}\n\n        {/* ===== Step 5: Done ===== */}\n        {step === \"done\" && submitResult && (\n          <div className=\"confirm-success\" style={{ marginTop: 20 }}>\n            <h3>Triage Request Created</h3>\n            <p>\n              <strong>Patient:</strong> {submitResult.patient}\n            </p>\n            {submitResult.recommended_department && (\n              <p>\n                <strong>Department:</strong>{\" \"}\n                {submitResult.recommended_department.replace(/_/g, \" \")}\n              </p>\n            )}\n            {submitResult.predicted_risk && (\n              <p>\n                <strong>Risk Level:</strong> {submitResult.predicted_risk}\n              </p>\n            )}\n            {submitResult.assigned_doctor && (\n              <p>\n                <strong>Assigned Doctor:</strong> Dr.{\" \"}\n                {submitResult.assigned_doctor}\n              </p>\n            )}\n            <button\n              className=\"confirm-btn confirm-btn-accept\"\n              onClick={resetAll}\n            >\n              New Case\n            </button>\n          </div>\n        )}\n\n        {/* ===== Existing inpatient records ===== */}\n        <h2\n          className=\"section-title\"\n          style={{ color: \"#818cf8\", marginTop: 32 }}\n        >\n          Inpatient Records\n        </h2>\n        {data.length === 0 ? (\n          <p className=\"no-data\">No inpatient cases found.</p>\n        ) : (\n          <div className=\"triage-grid\">\n            {data.map((item) => (\n              <div\n                key={item.id}\n                className=\"triage-card\"\n                style={{ borderColor: \"rgba(67, 97, 238, 0.2)\" }}\n              >\n                <div className=\"triage-card-header\">\n                  <div>\n                    <div className=\"patient-name\">\n                      {item.patient_name || `Patient #${item.id}`}\n                    </div>\n                    <div className=\"patient-meta\">\n                      {item.patient_age && `${item.patient_age} yrs`}\n                      {item.patient_gender && ` · ${item.patient_gender}`}\n                    </div>\n                  </div>\n                  <span\n                    className={`risk-badge ${(item.predicted_risk || \"\").toLowerCase() === \"low\" ? \"risk-low\" : \"risk-moderate\"}`}\n                  >\n                    {item.predicted_risk || \"Pending\"}\n                  </span>\n                </div>\n                <div className=\"vitals-grid\">\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">BP</div>\n                    <div className=\"vital-value\">{item.systolic_bp || \"—\"}</div>\n                  </div>\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">HR</div>\n                    <div className=\"vital-value\">{item.heart_rate || \"—\"}</div>\n                  </div>\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">Temp</div>\n                    <div className=\"vital-value\">\n                      {item.temperature ? `${item.temperature}°` : \"—\"}\n                    </div>\n                  </div>\n                  <div className=\"vital-item\">\n                    <div className=\"vital-label\">O2</div>\n                    <div className=\"vital-value\">\n                      {item.oxygen ? `${item.oxygen}%` : \"—\"}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"triage-card-footer\">\n                  <span className=\"department\">\n                    {item.recommended_department || \"Unassigned\"}\n                  </span>\n                  <span className=\"timestamp\">\n                    {formatDate(item.created_at)}\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n\nexport default Inpatients;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}