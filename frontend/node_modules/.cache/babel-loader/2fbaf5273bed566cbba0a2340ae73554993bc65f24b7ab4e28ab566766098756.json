{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Praanesh MB\\\\OneDrive\\\\Documents\\\\Kanini-Hackathon-master\\\\frontend\\\\src\\\\pages\\\\DoctorDashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let cookie of cookies) {\n      cookie = cookie.trim();\n      if (cookie.startsWith(name + \"=\")) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\nfunction DoctorDashboard() {\n  _s();\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Protect route\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/user-role/\", {\n      credentials: \"include\"\n    }).then(res => {\n      if (!res.ok) navigate(\"/\");\n      return res.json();\n    }).then(roleData => {\n      if (roleData.role !== \"doctor\") navigate(\"/\");\n    });\n  }, [navigate]);\n\n  // Load data\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/doctor-dashboard/\", {\n      credentials: \"include\"\n    }).then(res => res.json()).then(result => {\n      if (Array.isArray(result)) setData(result);\n      setLoading(false);\n    }).catch(() => setLoading(false));\n  }, []);\n  const handleLogout = async () => {\n    const csrfToken = getCookie(\"csrftoken\");\n    await fetch(\"http://localhost:8000/api/logout/\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"X-CSRFToken\": csrfToken\n      }\n    });\n    navigate(\"/\");\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"h3\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Doctor Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), data.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No assigned patients.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this) : data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"15px\",\n        border: \"1px solid #ccc\",\n        padding: \"10px\",\n        borderRadius: \"5px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Symptoms:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 16\n        }, this), \" \", item.symptoms]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Risk:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 16\n        }, this), \" \", item.predicted_risk]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(DoctorDashboard, \"zia+t5O9U774Auz+vxMRpU/xOms=\", false, function () {\n  return [useNavigate];\n});\n_c = DoctorDashboard;\nexport default DoctorDashboard;\nvar _c;\n$RefreshReg$(_c, \"DoctorDashboard\");","map":{"version":3,"names":["useEffect","useState","useNavigate","jsxDEV","_jsxDEV","getCookie","name","cookieValue","document","cookie","cookies","split","trim","startsWith","decodeURIComponent","substring","length","DoctorDashboard","_s","data","setData","loading","setLoading","navigate","fetch","credentials","then","res","ok","json","roleData","role","result","Array","isArray","catch","handleLogout","csrfToken","method","headers","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","item","marginTop","border","borderRadius","symptoms","predicted_risk","id","_c","$RefreshReg$"],"sources":["C:/Users/Praanesh MB/OneDrive/Documents/Kanini-Hackathon-master/frontend/src/pages/DoctorDashboard.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction getCookie(name) {\n  let cookieValue = null;\n  if (document.cookie && document.cookie !== \"\") {\n    const cookies = document.cookie.split(\";\");\n    for (let cookie of cookies) {\n      cookie = cookie.trim();\n      if (cookie.startsWith(name + \"=\")) {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n  return cookieValue;\n}\n\nfunction DoctorDashboard() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  // Protect route\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/user-role/\", {\n      credentials: \"include\",\n    })\n      .then(res => {\n        if (!res.ok) navigate(\"/\");\n        return res.json();\n      })\n      .then(roleData => {\n        if (roleData.role !== \"doctor\") navigate(\"/\");\n      });\n  }, [navigate]);\n\n  // Load data\n  useEffect(() => {\n    fetch(\"http://localhost:8000/api/doctor-dashboard/\", {\n      credentials: \"include\",\n    })\n      .then(res => res.json())\n      .then(result => {\n        if (Array.isArray(result)) setData(result);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, []);\n\n  const handleLogout = async () => {\n    const csrfToken = getCookie(\"csrftoken\");\n\n    await fetch(\"http://localhost:8000/api/logout/\", {\n      method: \"POST\",\n      credentials: \"include\",\n      headers: {\n        \"X-CSRFToken\": csrfToken,\n      },\n    });\n\n    navigate(\"/\");\n  };\n\n  if (loading) return <h3 style={{ padding: \"20px\" }}>Loading...</h3>;\n\n  return (\n    <div style={{ padding: \"20px\" }}>\n      <h2>Doctor Dashboard</h2>\n      <button onClick={handleLogout}>Logout</button>\n\n      {data.length === 0 ? (\n        <p>No assigned patients.</p>\n      ) : (\n        data.map(item => (\n          <div key={item.id} style={{\n            marginTop: \"15px\",\n            border: \"1px solid #ccc\",\n            padding: \"10px\",\n            borderRadius: \"5px\"\n          }}>\n            <p><strong>Symptoms:</strong> {item.symptoms}</p>\n            <p><strong>Risk:</strong> {item.predicted_risk}</p>\n          </div>\n        ))\n      )}\n    </div>\n  );\n}\n\nexport default DoctorDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}